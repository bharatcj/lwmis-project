"use strict";(self.webpackChunklwb=self.webpackChunklwb||[]).push([[397],{4397:($,d,r)=>{r.r(d),r.d(d,{SuperintendentModule:()=>j});var c=r(7804),_=r(2432),p=r(4104),x=r(3294),v=r(9866);function h(){return(0,x.e)((t,o)=>{t.subscribe((0,v.x)(o,()=>{o.next(!1),o.complete()},()=>{o.next(!0),o.complete()}))})}var Z=r(5826),i=r(9211),b=r(4076),T=r.n(b),e=r(3097),A=r(3089),C=r(4209),M=r(8977),u=r(8129),R=r(3259),l=r(7333),y=r(9741),N=r(9059),f=r(934);function U(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"mat-button-toggle",7),e.NdJ("change",function(){const m=e.CHM(n).$implicit,g=e.oxw();return e.KtG(g.selectedCriteria(m.code))}),e._uU(2),e.qZA(),e.BQk()}if(2&t){const n=o.$implicit;e.xp6(1),e.Q6J("value",n.code),e.xp6(1),e.Oqu(n.value)}}function J(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Registration Number is "),e.TgZ(2,"b"),e._uU(3,"Required"),e.qZA(),e._uU(4,". "),e.qZA())}function I(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter a "),e.TgZ(2,"b"),e._uU(3,"Valid"),e.qZA(),e._uU(4," Registration No. "),e.qZA())}function F(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Minimum "),e.TgZ(2,"b"),e._uU(3,"10 character"),e.qZA(),e._uU(4," is required. "),e.qZA())}function E(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Maximum of "),e.TgZ(2,"b"),e._uU(3,"30 characters"),e.qZA(),e._uU(4," was reached. "),e.qZA())}function w(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",25)(1,"button",26),e.NdJ("click",function(){e.CHM(n);const s=e.oxw().index,m=e.oxw(3);return e.KtG(m.deleteLab_reg_no(s))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()()}}function S(t,o){if(1&t&&(e.ynx(0,20),e.TgZ(1,"div",15)(2,"mat-form-field",21)(3,"mat-label"),e._uU(4,"LWB Registration No."),e.qZA(),e._UZ(5,"input",22)(6,"mat-icon",23),e.TgZ(7,"mat-hint"),e._uU(8,"Number should be registered in database"),e.qZA(),e.YNc(9,J,5,0,"mat-error",6),e.YNc(10,I,5,0,"mat-error",6),e.YNc(11,F,5,0,"mat-error",6),e.YNc(12,E,5,0,"mat-error",6),e.qZA(),e.YNc(13,w,4,0,"div",24),e.qZA(),e.BQk()),2&t){const n=o.index,a=e.oxw(3);e.Q6J("formGroupName",n),e.xp6(9),e.Q6J("ngIf",a.lwb_reg_no.at(n).get("reg_no").hasError("required")),e.xp6(1),e.Q6J("ngIf",a.lwb_reg_no.at(n).get("reg_no").hasError("pattern")),e.xp6(1),e.Q6J("ngIf",a.lwb_reg_no.at(n).get("reg_no").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",a.lwb_reg_no.at(n).get("reg_no").hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",n>0)}}function O(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e.ynx(2,17),e.YNc(3,S,14,6,"ng-container",18),e.BQk(),e.qZA(),e.TgZ(4,"button",19),e.NdJ("click",function(){e.CHM(n);const s=e.oxw(2);return e.KtG(s.addLwb_Reg_no())}),e.TgZ(5,"mat-icon"),e._uU(6,"add"),e.qZA()()()}if(2&t){const n=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",n.lwb_reg_no.controls)}}function Q(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._UZ(1,"span",28),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("innerHTML",n.err.fourDigitYear(n.msgForm.get("sp_year")),e.oJD)}}function Y(t,o){if(1&t&&(e.TgZ(0,"div",16)(1,"mat-form-field",25)(2,"mat-label"),e._uU(3,"Enter the Year"),e.qZA(),e._UZ(4,"input",27),e.YNc(5,Q,2,1,"mat-error",6),e.qZA()()),2&t){const n=e.oxw(2);let a;e.xp6(5),e.Q6J("ngIf",null==(a=n.msgForm.get("sp_year"))?null:a.invalid)}}function P(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._UZ(1,"span",28),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("innerHTML",n.err.salary(n.msgForm.get("sp_amt")),e.oJD)}}function q(t,o){if(1&t&&(e.TgZ(0,"div",16)(1,"mat-form-field",25)(2,"mat-label"),e._uU(3,"Please Enter the Amount"),e.qZA(),e._UZ(4,"input",29),e.TgZ(5,"mat-icon",23),e._uU(6,"calender"),e.qZA(),e.YNc(7,P,2,1,"mat-error",6),e.qZA(),e.TgZ(8,"mat-radio-group",30)(9,"mat-radio-button",31),e._uU(10,"Above the Entered Amount."),e.qZA(),e.TgZ(11,"mat-radio-button",32),e._uU(12,"Below the Entered Amount."),e.qZA()()()),2&t){const n=e.oxw(2);let a;e.xp6(7),e.Q6J("ngIf",null==(a=n.msgForm.get("sp_amt"))?null:a.invalid)}}function L(t,o){1&t&&(e.TgZ(0,"div",33)(1,"div",34)(2,"p"),e._uU(3,"Note: Sending Remainder messages to "),e.TgZ(4,"em"),e._uU(5," all pending Establishments "),e.qZA(),e._uU(6," may cost\u{1f4b0} more than other option."),e.qZA()()())}function B(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",8),e.YNc(2,O,7,1,"div",9),e.YNc(3,Y,6,1,"div",10),e.YNc(4,q,13,1,"div",10),e.YNc(5,L,7,0,"div",11),e.qZA(),e.TgZ(6,"div",12)(7,"div",0)(8,"button",13),e.NdJ("click",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.sendPaymentRemainders())}),e.TgZ(9,"mat-icon",14),e._uU(10,"send"),e.qZA()()()(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngIf","FRN"==n.selectedOptions),e.xp6(1),e.Q6J("ngIf","SPY"==n.selectedOptions),e.xp6(1),e.Q6J("ngIf","SPA"==n.selectedOptions),e.xp6(1),e.Q6J("ngIf","APE"==n.selectedOptions),e.xp6(3),e.Q6J("disabled",n.msgForm.invalid)}}const D=[{path:"send_remainder",component:(()=>{class t{constructor(n,a,s){this.dataService=n,this.fb=a,this.err=s,this.total_amount=0,this.isLoading=!1,this.emp_h$=this.dataService.getArrearsToBePaid({id:63}).pipe((0,Z.U)(m=>m.rows),(0,p.b)(m=>{this.total_amount=m.reduce((g,k)=>g+k.tt_amt,0)})),this.msgForm=this.fb.group({sp_year:[null,[i.kI.pattern("^[0-9]*$"),i.kI.min(1940),i.kI.max(T()().year())]],sp_amt:[null,[i.kI.pattern("^[0-9]*$"),i.kI.min(1),i.kI.max(1e8)]],sp_amt_stat:[null],lwb_reg_no:this.fb.array([])}),this.criterias=[{value:"All Pending Establishments",code:"APE"},{value:"Specific Year",code:"SPY"},{value:"Specific Amount",code:"SPA"},{value:"Firm Registration No.",code:"FRN"}],this.selectedOptions=[],this.isEmpty=h}get lwb_reg_no(){return this.msgForm.get("lwb_reg_no")}ngOnInit(){this.addLwb_Reg_no()}addLwb_Reg_no(){this.lwb_reg_no.push(this.fb.group({reg_no:[null,[i.kI.pattern("^[A-Za-z]+/[A-Za-z]+/[0-9]+/[0-9]+$"),i.kI.minLength(10),i.kI.maxLength(30)]]}))}deleteLab_reg_no(n){this.lwb_reg_no.removeAt(n)}selectedCriteria(n){this.msgForm.reset(),this.selectedOptions=n}sendPaymentRemainders(){let n=Object.assign({},this.msgForm.value);this.dataService.sendPaymentRemainders({...n}).pipe((0,p.b)(a=>console.log(a))).subscribe(a=>{console.log(a)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(A.D),e.Y36(i.qu),e.Y36(C.E))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-remained-messages"]],decls:8,vars:3,consts:[[1,"flex","justify-center"],[1,"flex","flex-col","w-1/2","m-20"],[3,"formGroup"],[2,"font-weight","bolder"],["aria-label","Font Style","name","fontStyle"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value","change"],[1,"mt-7","mb-7"],["class","flex flex-row gap-3",4,"ngIf"],["class","flex flex-col",4,"ngIf"],["class","flex justify-center m-10",4,"ngIf"],[1,"flex","justify-end"],["color","primary","mat-fab","",3,"disabled","click"],[1,""],[1,"flex","flex-row","gap-3"],[1,"flex","flex-col"],["formArrayName","lwb_reg_no"],[3,"formGroupName",4,"ngFor","ngForOf"],["aria-label","Add another lwb registration no","color","primary","mat-mini-fab","",3,"click"],[3,"formGroupName"],[1,"flex-grow"],["autocomplete","on","formControlName","reg_no","matInput","","placeholder","E.g:CH/CAT-EST/2023/12"],["matSuffix",""],["class","flex-1",4,"ngIf"],[1,"flex-1"],["aria-label","Delete the lwb","color","warn","mat-mini-fab","",3,"click"],["formControlName","sp_year","matInput","","placeholder","E.g. 2021"],[3,"innerHTML"],["autocomplete","on","formControlName","sp_amt","matInput","","maxlength","46","placeholder","E.g: 2000"],["aria-label","Select an option","formControlName","sp_amt_stat",1,"flex-1"],["value","gt",2,"margin-left","16px"],["value","lt",2,"margin-left","16px"],[1,"flex","justify-center","m-10"],[1,"flex"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"mat-card",1)(2,"form",2)(3,"p",3),e._uU(4,"Select the Pending Payments of Establishments by :"),e.qZA(),e.TgZ(5,"mat-button-toggle-group",4),e.YNc(6,U,3,2,"ng-container",5),e.qZA(),e.YNc(7,B,11,5,"ng-container",6),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("formGroup",a.msgForm),e.xp6(4),e.Q6J("ngForOf",a.criterias),e.xp6(1),e.Q6J("ngIf",0!=a.selectedOptions.length))},dependencies:[c.sg,c.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,i.x0,i.CE,M.lW,u.A9,u.Yi,R.a8,l.TO,l.KE,l.bx,l.hX,l.R9,y.Hw,N.Nt,f.VQ,f.U0],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black}table[_ngcontent-%COMP%]{border-collapse:collapse}.boxClass[_ngcontent-%COMP%]{background-color:#d3d3d3;border:1px solid dimgrey;padding:10px;box-shadow:5px 5px #000}.boxClass[_ngcontent-%COMP%]:hover{box-shadow:5px 5px gray}.mat-mdc-radio-button[_ngcontent-%COMP%] ~ .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-left:16px}"]}),t})()}];let G=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[_.Bz.forChild(D),_.Bz]}),t})();var H=r(3165);let j=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,G,H.V]}),t})()}}]);