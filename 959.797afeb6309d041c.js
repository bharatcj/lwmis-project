"use strict";(self.webpackChunklwb=self.webpackChunklwb||[]).push([[959],{9959:(ua,F,p)=>{p.r(F),p.d(F,{MastersModule:()=>da});var _=p(7804),z=p(2839),$=p(2432),s=p(9211),b=p(8887),U=p(4931),h=p(2711),m=p(5826),C=p(7059),f=p(4104),I=p(7057),O=p(943),v=p(677),u=p(4321),N=p(1176),k=p(7598),E=p(2520),S=p(4795),t=p(3097),x=p(3089),Z=p(8977),d=p(7333),T=p(9059),l=p(4014);function G(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function H(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name should not exceed "),t.TgZ(2,"b"),t._uU(3,"100 characters"),t.qZA()())}function W(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Act name "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function R(i,o){if(1&i&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.msg)}}function j(i,o){1&i&&t._UZ(0,"img",13)}let K=(()=>{class i{constructor(e,n,a){this.dataService=e,this.act=n,this.dialogRef=a,this.user=this.dataService.curr_user$.value,this.submitted=!1,this.showDesignations=!1,this.showPwd=!0,this.loading=!1,this.isMasterActExist=r=>(0,N.H)(500).pipe((0,f.b)(c=>this.loading=!0),(0,v.w)(()=>(0,k.s)(()=>!!r.value,this.dataService.isMasterActExist({act:r.value}).pipe((0,m.U)(c=>c?{isMasterActExist:!0}:null)),(0,E.of)(null))),(0,S.x)(()=>this.loading=!1)),this.name_fc=new s.p4(this.act.act_name,[s.kI.required,s.kI.maxLength(100)],[this.isMasterActExist])}ngOnInit(){this.user=this.dataService.curr_user$.value,this.fg=new s.nJ({act_name:this.name_fc}),setTimeout(()=>{this.onShowDesignations(!0)},0)}check_user_zone_available(){return this.dataService.curr_user$.getValue()}onShowDesignations(e){this.showDesignations=e}number_chars_only(e){return[1,2,3,4,5,6,7,8,9,0].map(n=>n.toString()).findIndex(n=>n===e.key)>=0}save(){if(this.msg=null,this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.fg.valid){const e=Object.assign({},this.fg.value);this.act.act_name=e.act_name,this.loading=!0,this.dataService.saveAct(this.act).subscribe(n=>{this.loading=!1,"Act saved successfully."==n.message||"Act update successfully."==n.message?(n.id&&(this.act.id=n.id),this.dialogRef.close(this.act)):this.msg=n?.message})}}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-act-edit"]],decls:22,vars:8,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px",1,"fs-sm"],["fxFlex",""],["matInput","","maxlength","100","required","","type","text",3,"formControl"],[4,"ngIf"],["fxLayout","row"],["class","c-red",4,"ngIf"],["align","end"],["src","./assets/imgs/loading.gif",4,"ngIf"],["color","warn","mat-raised-button","","tabindex","-1","type","button",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"c-red"],["src","./assets/imgs/loading.gif"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Act"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"div")(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Name"),t.qZA(),t._UZ(10,"input",4),t.YNc(11,G,4,0,"mat-error",5),t.YNc(12,H,4,0,"mat-error",5),t.YNc(13,W,4,0,"mat-error",5),t.qZA()(),t.TgZ(14,"div",6),t.YNc(15,R,2,1,"div",7),t.qZA()()()(),t.TgZ(16,"mat-dialog-actions",8),t.YNc(17,j,1,0,"img",9),t.TgZ(18,"button",10),t.NdJ("click",function(){return n.cancel()}),t._uU(19,"Cancel"),t.qZA(),t.TgZ(20,"button",11),t.NdJ("click",function(){return n.save()}),t._uU(21,"Save"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(6),t.Q6J("formControl",n.name_fc),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("isMasterActExist")),t.xp6(2),t.Q6J("ngIf",n.msg),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid))},dependencies:[_.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.oH,s.sg,Z.lW,u.uh,u.xY,u.H8,d.TO,d.KE,d.hX,T.Nt,l.xw,l.SQ,l.yH],encapsulation:2}),i})();var g=p(3259),y=p(9741),w=p(7495),L=p(613),q=p(6281);function V(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.qZA())}function X(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(5);t.Q6J("disabled",e.loading)}}function tt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showEditDialog(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.YNc(4,X,3,1,"button",33),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function et(i,o){1&i&&(t.TgZ(0,"div",35)(1,"b"),t._uU(2,"Managed by Admin Department"),t.qZA()())}function it(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",21),t._uU(3),t.qZA(),t.TgZ(4,"td",22),t._uU(5),t.qZA(),t.TgZ(6,"td",23)(7,"div",24)(8,"div",25)(9,"button",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.toggleStatus(r))}),t.TgZ(10,"mat-icon",27),t._uU(11,"person"),t.qZA()()()()(),t.TgZ(12,"td",28),t.YNc(13,tt,5,2,"div",29),t.YNc(14,et,3,0,"ng-template",null,30,t.W1O),t.qZA()(),t.BQk()}if(2&i){const e=o.$implicit,n=o.index,a=t.MAs(15),r=t.oxw(3);t.xp6(3),t.Oqu(r.makeSlNo(n)),t.xp6(2),t.Oqu(e.act_name),t.xp6(3),t.Q6J("matTooltip",e.is_active?"Active":"Inactive"),t.xp6(1),t.Udp("color",e.is_active?"darkgreen":"red"),t.Q6J("disabled",r.loading),t.xp6(4),t.Q6J("ngIf",r.allowEdit())("ngIfElse",a)}}function nt(i,o){if(1&i&&(t.TgZ(0,"table",18)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Act"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Status"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Actions"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,it,16,8,"ng-container",20),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(12),t.Q6J("ngForOf",e)}}function ot(i,o){1&i&&(t.TgZ(0,"div",14)(1,"div",36),t._uU(2,"No data found"),t.qZA()())}function at(i,o){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,nt,13,1,"table",16),t.YNc(2,ot,3,0,"ng-template",null,17,t.W1O),t.qZA()),2&i){const e=o.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",n)}}function st(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.TgZ(2,"div"),t._uU(3,"Please wait while isLoading..."),t.qZA()())}let rt=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.pageSize=50,this.pageSizeOptions=this.dataService.PageSizeOptions,this.loading=!1,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(""),this.refreshToken$=new U.X(void 0)}ngOnInit(){this.user=this.dataService.curr_user$.value}ngAfterViewInit(){this.page$=this.paginator.page.asObservable().pipe((0,h.O)({previousPageIndex:0,pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize,length:this.paginator.length})),this.filter_include_inactive.valueChanges.pipe((0,h.O)(this.filter_include_inactive.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));const n=this.filter_search_text.valueChanges.pipe((0,h.O)(this.filter_search_text.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));setTimeout(()=>{this.acts$=(0,I.a)([n,this.page$,this.refreshToken$]).pipe((0,O.b)(200),(0,f.b)(()=>this.loading=!0),(0,v.w)(([a,r])=>this.dataService.getActs({search_text:a,limit:r.pageSize,offset:r.pageIndex})),(0,m.U)(a=>(this.loading=!1,this.paginator.length=a.tot_rows,a.rows)))},100)}allowEdit(){return!0}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showEditDialog(e){e||(e={act_name:null}),this.dialog.open(K,{disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.refreshToken$.next(void 0)})}delete(e){!confirm("Are you sure to delete Act?")||(this.loading=!0,this.dataService.deleteAct({id:e.id}).subscribe(n=>{this.loading=!1,"Act deleted successfully."==n.message&&this.refreshToken$.next(void 0)}))}toggleStatus(e){if(!confirm("Are you sure to disable the act?"))return;const n={id:e.id,is_active:!e.is_active,user_id:this.dataService.curr_user$.value.id};this.loading=!0,this.dataService.toggleActStatus(n).subscribe(a=>{this.loading=!1,"Act status changed successfully."==a.message&&this.refreshToken$.next(void 0)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-acts"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:29,vars:10,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[3,"ngClass"],[1,"fs-12"],["type","text","matInput","","appAutofocus","","maxlength","200","autocomplete","off",3,"formControl","click"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"pageSizeOptions","pageSize"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],[1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c",2,"text-align","center"],[2,"text-align","center"],[1,"ta-c"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px"],[3,"matTooltip"],["mat-icon-button","","type","button",1,"lh-20",2,"height","unset",3,"disabled","click"],[2,"height","unset"],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center",4,"ngIf","ngIfElse"],["tmplNoEditMessage",""],["fxLayout","row","fxLayoutAlign","space-evenly center"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click",4,"ngIf"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","darkorange"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Acts"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showEditDialog()}),t._uU(9,"Add New Act "),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6),t._UZ(13,"div",3),t.YNc(14,V,2,0,"div",7),t.TgZ(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"Search"),t.qZA(),t.TgZ(19,"input",10),t.NdJ("click",function(r){return r.target.select()}),t.qZA(),t.TgZ(20,"mat-hint"),t._uU(21,"Act Name "),t.qZA()()()(),t.TgZ(22,"div"),t.YNc(23,at,4,2,"div",11),t.ALo(24,"async"),t.qZA(),t.YNc(25,st,4,0,"ng-template",null,12,t.W1O),t.TgZ(27,"div"),t._UZ(28,"mat-paginator",13),t.qZA()()()()()),2&e){const a=t.MAs(26);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(4),t.Q6J("ngIf",t.lcZ(24,8,n.acts$))("ngIfElse",a),t.xp6(5),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.nD,s.oH,Z.lW,g.a8,g.dk,g.dn,g.n5,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,L.gM,l.xw,l.SQ,l.Wh,l.yH,q.oO,_.Ov],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:80%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();var lt=p(2579),B=p(6822);function ct(i,o){1&i&&(t.TgZ(0,"div",15),t._UZ(1,"mat-spinner",16),t.qZA())}function dt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(4);t.Q6J("disabled",e.loading)}}function _t(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",25),t._uU(3),t.qZA(),t.TgZ(4,"td",25)(5,"b"),t._uU(6),t.qZA()(),t.TgZ(7,"td",25)(8,"b"),t._uU(9),t.qZA()(),t.TgZ(10,"td",25)(11,"b"),t._uU(12),t.qZA()(),t.TgZ(13,"td",25)(14,"b"),t._uU(15),t.qZA()(),t.TgZ(16,"td",25)(17,"b"),t._uU(18),t.qZA()(),t.TgZ(19,"td",26)(20,"div",27)(21,"div",28)(22,"button",29),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.toggleStatus(r))}),t.TgZ(23,"mat-icon",30),t._uU(24,"person"),t.qZA()()()()(),t.TgZ(25,"td"),t._uU(26),t.qZA(),t.TgZ(27,"td",31)(28,"div",32)(29,"button",33),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.showEditDialog(r))}),t.TgZ(30,"mat-icon"),t._uU(31,"edit"),t.qZA()(),t.YNc(32,dt,3,1,"button",34),t.qZA()()(),t.BQk()}if(2&i){const e=o.$implicit,n=o.index,a=t.oxw(3);t.xp6(3),t.Oqu(a.makeSlNo(n)),t.xp6(3),t.Oqu(e.bank_code),t.xp6(3),t.Oqu(e.bank_name),t.xp6(3),t.Oqu(e.ifsc),t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Oqu(e.address),t.xp6(3),t.Q6J("matTooltip",e.is_active?"Active":"Inactive"),t.xp6(1),t.Udp("color",e.is_active?"darkgreen":"red"),t.Q6J("disabled",a.loading),t.xp6(4),t.Oqu(e.remarks),t.xp6(3),t.Q6J("disabled",a.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function ut(i,o){if(1&i&&(t.TgZ(0,"table",19)(1,"thead")(2,"tr")(3,"th",20),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th",21),t._uU(6,"Bank"),t.qZA(),t.TgZ(7,"th",22),t._uU(8,"Branch"),t.qZA(),t.TgZ(9,"th",20),t._uU(10,"Status"),t.qZA(),t.TgZ(11,"th",20),t._uU(12,"Remarks"),t.qZA(),t.TgZ(13,"th",23),t._uU(14,"Actions"),t.qZA()(),t.TgZ(15,"tr")(16,"th"),t._uU(17,"Code"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Name"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"IFSC Code"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Name"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Address"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,_t,33,13,"ng-container",24),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(27),t.Q6J("ngForOf",e)}}function gt(i,o){1&i&&(t.TgZ(0,"div",15)(1,"div",36),t._uU(2,"No data found"),t.qZA()())}function pt(i,o){if(1&i&&(t.TgZ(0,"div",15),t.YNc(1,ut,28,1,"table",17),t.YNc(2,gt,3,0,"ng-template",null,18,t.W1O),t.qZA()),2&i){const e=o.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",n)}}function mt(i,o){1&i&&(t.TgZ(0,"div",15),t._UZ(1,"mat-spinner",16),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}let ft=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.pageSize=50,this.pageSizeOptions=this.dataService.PageSizeOptions,this.loading=!0,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(null),this.refreshToken$=new U.X(void 0)}ngOnInit(){}ngAfterViewInit(){const e=this.paginator.page.asObservable().pipe((0,h.O)({previousPageIndex:0,pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize,length:this.paginator.length})),n=this.filter_include_inactive.valueChanges.pipe((0,h.O)(this.filter_include_inactive.value),(0,m.U)(r=>r),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)})),a=this.filter_search_text.valueChanges.pipe((0,h.O)(this.filter_search_text.value),(0,m.U)(r=>r),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));setTimeout(()=>{this.branches$=(0,I.a)([n,a,e,this.refreshToken$]).pipe((0,f.b)(()=>this.loading=!0),(0,v.w)(([r,c,Y])=>this.dataService.getBankBranches({include_inactive:r,search_text:c,limit:Y.pageSize,offset:Y.pageIndex})),(0,m.U)(r=>(this.loading=!1,this.paginator.length=r.tot_rows,r.rows)))},0)}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showEditDialog(e){e||(e={bank_code:null,bank_name:null,ifsc:null,name:null,address:null,is_active:!0,remarks:null}),this.dialog.open(lt.C,{width:"600px",disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.refreshToken$.next(void 0)})}delete(e){!confirm("Are you sure to delete Bank/Branch?")||(this.loading=!0,this.dataService.deleteBankBranch({id:e.id}).subscribe(n=>{this.loading=!1,"Bank/Branch deleted successfully."==n.message&&this.refreshToken$.next(void 0)}))}toggleStatus(e){if(!confirm("Are you sure to toggle Bank Branch status?"))return;const n={ifsc:e.ifsc,is_active:!e.is_active,user_id:this.dataService.curr_user$.value.id};this.loading=!0,this.dataService.toggleBankBranchStatus(n).subscribe(a=>{this.loading=!1,"Bank Branch status changed successfully."==a.message&&this.refreshToken$.next(void 0)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:32,vars:11,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","98"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["type","button","mat-raised-button","","color","primary",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px"],[3,"formControl"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[3,"ngClass"],[1,"fs-12"],["type","text","matInput","","appAutofocus","","maxlength","200","autocomplete","on",3,"formControl","click"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"pageSize","pageSizeOptions"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],["rowspan","2"],["colspan","2"],["colspan","3"],["rowspan","2",1,"no-print"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"ta-c"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px"],[3,"matTooltip"],["mat-icon-button","","type","button",1,"lh-20",2,"height","unset",3,"disabled","click"],[2,"height","unset"],[1,"no-print",2,"text-align","center"],["fxLayout","row","fxLayoutAlign","space-evenly center"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click",4,"ngIf"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Bank & Branches"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showEditDialog()}),t._uU(9,"Add New Bank / Branch"),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6)(13,"div")(14,"mat-checkbox",7),t._uU(15,"Include inactive Bank/Branches"),t.qZA()(),t._UZ(16,"div",3),t.YNc(17,ct,2,0,"div",8),t.TgZ(18,"div",9)(19,"mat-form-field",10)(20,"mat-label"),t._uU(21,"Search"),t.qZA(),t.TgZ(22,"input",11),t.NdJ("click",function(r){return r.target.select()}),t.qZA(),t.TgZ(23,"mat-hint"),t._uU(24,"Bank / Branch / IFSC"),t.qZA()()()(),t.YNc(25,pt,4,2,"div",12),t.ALo(26,"async"),t._uU(27,"allowed_schemes "),t.YNc(28,mt,4,0,"ng-template",null,13,t.W1O),t.TgZ(30,"div"),t._UZ(31,"mat-paginator",14),t.qZA()()()()()),2&e){const a=t.MAs(29);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("formControl",n.filter_include_inactive),t.xp6(3),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(3),t.Q6J("ngIf",t.lcZ(26,9,n.branches$))("ngIfElse",a),t.xp6(6),t.Q6J("pageSize",n.pageSize)("pageSizeOptions",n.pageSizeOptions)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.nD,s.oH,Z.lW,g.a8,g.dk,g.dn,g.n5,B.oG,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,L.gM,l.xw,l.SQ,l.Wh,l.yH,q.oO,_.Ov],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:90%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();var J=p(8521),Q=p(7018);function ht(i,o){if(1&i&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.act_name)}}function xt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Act is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function Zt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function bt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name should not exceed "),t.TgZ(2,"b"),t._uU(3,"100 characters"),t.qZA()())}function Tt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Act name "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function vt(i,o){if(1&i&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.msg)}}function Ct(i,o){1&i&&t._UZ(0,"img",17)}let yt=(()=>{class i{constructor(e,n,a){this.dataService=e,this.business_nature=n,this.dialogRef=a,this.user=this.dataService.curr_user$.value,this.submitted=!1,this.showDesignations=!1,this.showPwd=!0,this.loading=!1,this.act_id_fc=new s.p4(this.business_nature.act_id,[s.kI.required]),this.isMasterActExist=r=>(0,N.H)(500).pipe((0,f.b)(c=>this.loading=!0),(0,v.w)(()=>(0,k.s)(()=>!!r.value,this.dataService.isMasterBusinessNatureExist({business_nature:r.value}).pipe((0,m.U)(c=>c?{isMasterActExist:!0}:null)),(0,E.of)(null))),(0,S.x)(()=>this.loading=!1)),this.name_fc=new s.p4(this.business_nature.business_nature_name,[s.kI.required,s.kI.maxLength(100)],[this.isMasterActExist])}ngOnInit(){this.user=this.dataService.curr_user$.value,this.fg=new s.nJ({business_nature_name:this.name_fc,act_id:this.act_id_fc}),setTimeout(()=>{this.onShowDesignations(!0)},0),this.getActs()}getActs(){this.dataService.getActs({}).subscribe(e=>{this.acts=e.rows})}check_user_zone_available(){return this.dataService.curr_user$.getValue()}onShowDesignations(e){this.showDesignations=e}number_chars_only(e){return[1,2,3,4,5,6,7,8,9,0].map(n=>n.toString()).findIndex(n=>n===e.key)>=0}save(){if(this.msg=null,this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.fg.valid){const e=Object.assign({},this.fg.value);this.business_nature.business_nature_name=e.business_nature_name,this.business_nature.act_id=e.act_id,this.loading=!0,this.dataService.saveBusinessNature(this.business_nature).subscribe(n=>{this.loading=!1,"Business Nature saved successfully."==n.message||"Business Nature update successfully."==n.message?(n.id&&(this.business_nature.id=n.id),this.dialogRef.close(this.business_nature)):this.msg=n?.message})}}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:29,vars:11,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px",1,"fs-sm"],["fxFlex",""],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","75"],["matInput","","maxlength","100","required","","type","text",3,"formControl"],["fxLayout","row"],["class","c-red",4,"ngIf"],["align","end"],["src","./assets/imgs/loading.gif",4,"ngIf"],["color","warn","mat-raised-button","","tabindex","-1","type","button",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"c-red"],["src","./assets/imgs/loading.gif"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Taluk"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"div")(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"act"),t.qZA(),t.TgZ(10,"mat-select",4),t.YNc(11,ht,2,2,"mat-option",5),t.qZA(),t.YNc(12,xt,4,0,"mat-error",6),t.qZA()(),t.TgZ(13,"div")(14,"mat-form-field",7)(15,"mat-label"),t._uU(16,"Name"),t.qZA(),t._UZ(17,"input",8),t.YNc(18,Zt,4,0,"mat-error",6),t.YNc(19,bt,4,0,"mat-error",6),t.YNc(20,Tt,4,0,"mat-error",6),t.qZA()(),t.TgZ(21,"div",9),t.YNc(22,vt,2,1,"div",10),t.qZA()()()(),t.TgZ(23,"mat-dialog-actions",11),t.YNc(24,Ct,1,0,"img",12),t.TgZ(25,"button",13),t.NdJ("click",function(){return n.cancel()}),t._uU(26,"Cancel"),t.qZA(),t.TgZ(27,"button",14),t.NdJ("click",function(){return n.save()}),t._uU(28,"Save"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(6),t.Q6J("formControl",n.act_id_fc),t.xp6(1),t.Q6J("ngForOf",n.acts),t.xp6(1),t.Q6J("ngIf",n.act_id_fc.hasError("required")),t.xp6(5),t.Q6J("formControl",n.name_fc),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("isMasterActExist")),t.xp6(2),t.Q6J("ngIf",n.msg),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid))},dependencies:[_.sg,_.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.oH,s.sg,J.ey,Z.lW,u.uh,u.xY,u.H8,d.TO,d.KE,d.hX,T.Nt,Q.gD,l.xw,l.SQ,l.yH],encapsulation:2}),i})();function At(i,o){1&i&&(t.TgZ(0,"div",17),t._UZ(1,"mat-spinner",18),t.qZA())}function wt(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.act_name)}}function qt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(5);t.Q6J("disabled",e.loading)}}function Ut(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",34)(1,"button",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showEditDialog(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.YNc(4,qt,3,1,"button",36),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function kt(i,o){1&i&&(t.TgZ(0,"div",38)(1,"b"),t._uU(2,"Managed by Admin Department"),t.qZA()())}function Dt(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",25),t._uU(3),t.qZA(),t.TgZ(4,"td",26),t._uU(5),t.qZA(),t.TgZ(6,"td",26),t._uU(7),t.qZA(),t.TgZ(8,"td")(9,"div",27)(10,"div",28)(11,"button",29),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.toggleStatus(r))}),t.TgZ(12,"mat-icon",30),t._uU(13,"person"),t.qZA()()()()(),t.TgZ(14,"td",31),t.YNc(15,Ut,5,2,"div",32),t.YNc(16,kt,3,0,"ng-template",null,33,t.W1O),t.qZA()(),t.BQk()}if(2&i){const e=o.$implicit,n=o.index,a=t.MAs(17),r=t.oxw(3);t.xp6(3),t.Oqu(r.makeSlNo(n)),t.xp6(2),t.Oqu(e.act_name),t.xp6(2),t.Oqu(e.business_nature_name),t.xp6(3),t.Q6J("matTooltip",e.is_active?"Active":"Inactive"),t.xp6(1),t.Udp("color",e.is_active?"darkgreen":"red"),t.Q6J("disabled",r.loading),t.xp6(4),t.Q6J("ngIf",r.allowEdit())("ngIfElse",a)}}function It(i,o){if(1&i&&(t.TgZ(0,"table",22)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Act"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Business Nature"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Status"),t.qZA(),t.TgZ(11,"th",23),t._uU(12,"Actions"),t.qZA()()(),t.TgZ(13,"tbody"),t.YNc(14,Dt,18,9,"ng-container",24),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(14),t.Q6J("ngForOf",e.bussines_natures)}}function Nt(i,o){1&i&&(t.TgZ(0,"div",17)(1,"div",39),t._uU(2,"No data found"),t.qZA()())}function Et(i,o){if(1&i&&(t.TgZ(0,"div",17),t.YNc(1,It,15,1,"table",20),t.YNc(2,Nt,3,0,"ng-template",null,21,t.W1O),t.qZA()),2&i){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.bussines_natures.length>0)("ngIfElse",e)}}function St(i,o){1&i&&(t.TgZ(0,"div",17),t._UZ(1,"mat-spinner",18),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}let Ot=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.length=0,this.pageSize=50,this.pageSizeOptions=this.dataService.PageSizeOptions,this.filters={limit:this.pageSize,offset:0},this.loading=!1,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(""),this.filter_act=new s.p4("ALL")}ngOnInit(){this.user=this.dataService.curr_user$.value,this.getActs()}onChangeActFilter(){this.filters.offset=0,this.filter_search_text.value?this.filters.search_text=this.filter_search_text.value:this.filters.hasOwnProperty("search_text")&&delete this.filters.search_text,setTimeout(()=>{this.getBusinessNatures()},100)}onPageChange(e){this.filters.limit=e.pageSize,this.filters.offset=e.pageIndex,setTimeout(()=>{this.getBusinessNatures()},100)}onChangeFilter(){this.filters.offset=0,this.filter_search_text.value?this.filters.search_text=this.filter_search_text.value:this.filters.hasOwnProperty("search_text")&&delete this.filters.search_text,setTimeout(()=>{this.getBusinessNatures()},100)}search(e){this.onChangeFilter()}getActs(){this.dataService.getActs({}).subscribe(e=>{this.acts=e.rows,this.getBusinessNatures()})}getBusinessNatures(){this.loading=!0,this.filters.act_id=this.filter_act.value,this.filters.include_inactive=this.filter_include_inactive.value,this.dataService.getBusinessNatures(this.filters).subscribe(e=>{this.loading=!1,this.bussines_natures=[],this.length=e.tot_rows,this.bussines_natures=e.rows.map((n,a)=>n)})}allowEdit(){return!0}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showEditDialog(e){e||(e={act_id:null,business_nature_name:null}),this.dialog.open(yt,{width:"30%",disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.getBusinessNatures()})}delete(e){!confirm("Are you sure to delete Business Nature?")||(this.loading=!0,this.dataService.deleteBusinessNature({id:e.id}).subscribe(n=>{this.loading=!1,"Business Nature deleted successfully."==n.message&&this.getBusinessNatures()}))}omit_special_char(e){var n=e.charCode;return n>64&&n<91||n>96&&n<123||8==n||32==n||n>=48&&n<=57}toggleStatus(e){if(!confirm("Are you sure to toggle Business Nature status?"))return;let n={id:e.id,is_active:!e.is_active,user_id:this.user.id};this.loading=!0,this.dataService.toggleBusinessNatureStatus(n).subscribe(a=>{this.loading=!1,"Business Nature status changed successfully."==a.message&&this.getBusinessNatures()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:39,vars:12,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","20px"],[3,"formControl","change"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["required","",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngClass"],[2,"font-size","15px"],["type","text","matInput","","appAutofocus","","maxlength","200","autocomplete","off",3,"formControl","click","input","keypress"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"length","pageSizeOptions","pageSize","page"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],[3,"value"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],[1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c",2,"text-align","center"],[2,"text-align","center"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px"],[3,"matTooltip"],["mat-icon-button","","type","button",1,"lh-20",2,"height","unset",3,"disabled","click"],[2,"height","unset"],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center",4,"ngIf","ngIfElse"],["tmplNoEditMessage",""],["fxLayout","row","fxLayoutAlign","space-evenly center"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click",4,"ngIf"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","darkorange"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Business Natures"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showEditDialog()}),t._uU(9,"Add New Business Nature "),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6)(13,"div")(14,"mat-checkbox",7),t.NdJ("change",function(){return n.onChangeFilter()}),t._uU(15,"Include inactive Users"),t.qZA()(),t._UZ(16,"div",3),t.YNc(17,At,2,0,"div",8),t.TgZ(18,"div")(19,"mat-form-field",3)(20,"mat-label"),t._uU(21,"Act Name"),t.qZA(),t.TgZ(22,"mat-select",9),t.NdJ("selectionChange",function(){return n.onChangeActFilter()}),t.TgZ(23,"mat-option"),t._uU(24,"ALL"),t.qZA(),t.YNc(25,wt,2,2,"mat-option",10),t.qZA()()(),t.TgZ(26,"div",11)(27,"mat-form-field",12)(28,"mat-label"),t._uU(29,"Search"),t.qZA(),t.TgZ(30,"input",13),t.NdJ("click",function(r){return r.target.select()})("input",function(r){return n.search(r.target)})("keypress",function(r){return n.omit_special_char(r)}),t.qZA(),t.TgZ(31,"mat-hint"),t._uU(32,"Taluk Name "),t.qZA()()()(),t.TgZ(33,"div"),t.YNc(34,Et,4,2,"div",14),t.qZA(),t.YNc(35,St,4,0,"ng-template",null,15,t.W1O),t.TgZ(37,"div")(38,"mat-paginator",16),t.NdJ("page",function(r){return n.onPageChange(r)}),t.qZA()()()()()()),2&e){const a=t.MAs(36);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("formControl",n.filter_include_inactive),t.xp6(3),t.Q6J("ngIf",n.loading),t.xp6(5),t.Q6J("formControl",n.filter_act),t.xp6(3),t.Q6J("ngForOf",n.acts),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(4),t.Q6J("ngIf",n.bussines_natures)("ngIfElse",a),t.xp6(4),t.Q6J("length",n.length)("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.Q7,s.nD,s.oH,J.ey,Z.lW,g.a8,g.dk,g.dn,g.n5,B.oG,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,Q.gD,L.gM,l.xw,l.SQ,l.Wh,l.yH,q.oO],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:80%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();function Jt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," From Year is required "),t.TgZ(2,"sup"),t._uU(3,"*"),t.qZA()())}function Qt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," From Year is "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function Lt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," To Year is required "),t.TgZ(2,"sup"),t._uU(3,"*"),t.qZA()())}function Mt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Employee Contribution is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function Yt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Employee Contribution should not exceed "),t.TgZ(2,"b"),t._uU(3,"20 characters"),t.qZA()())}function Bt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Employer Contribution is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function Pt(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Employer Contribution should not exceed "),t.TgZ(2,"b"),t._uU(3,"100 characters"),t.qZA()())}function Ft(i,o){if(1&i&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.msg)}}function $t(i,o){1&i&&t._UZ(0,"img",17)}let zt=(()=>{class i{constructor(e,n,a){this.ds=e,this.contribution=n,this.dialogRef=a,this.submitted=!1,this.showDesignations=!1,this.showPwd=!0,this.loading=!1,this.isMasterContributionExist=r=>(0,N.H)(500).pipe((0,f.b)(c=>this.loading=!0),(0,v.w)(()=>(0,k.s)(()=>!!r.value,this.ds.isMasterContributionExist({from_year:r.value}).pipe((0,m.U)(c=>c?{isMasterSchemeExist:!0}:null)),(0,E.of)(null))),(0,S.x)(()=>this.loading=!1))}ngOnInit(){this.user=this.ds.curr_user$.value,this.formInitialize(),setTimeout(()=>{this.onShowDesignations(!0)},0),this.contribution&&this.formExisting()}formInitialize(){this.fg=new s.nJ({employee_cntrbtn:new s.p4(null,[s.kI.required,s.kI.maxLength(100)]),employer_cntrbtn:new s.p4(null,s.kI.required),from_year:new s.p4(null,s.kI.required,[this.isMasterContributionExist]),to_year:new s.p4(null)})}formExisting(){this.fg=new s.nJ({employee_cntrbtn:new s.p4(this.contribution?.employee_cntrbtn,[s.kI.required,s.kI.maxLength(100)]),employer_cntrbtn:new s.p4(this.contribution.employer_cntrbtn,[s.kI.required,s.kI.maxLength(20)]),from_year:new s.p4(this.contribution.from_year,s.kI.required),to_year:new s.p4(this.contribution.to_year)})}check_user_zone_available(){return this.ds.curr_user$.getValue()}onShowDesignations(e){this.showDesignations=e}save(){if(this.msg=null,this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.fg.valid){const e=Object.assign({},this.fg.value);e.user_id=this.user.id,e.total_cntrbtn=Number(e.employee_cntrbtn)+Number(e.employer_cntrbtn),this.contribution&&(this.contribution.employee_cntrbtn=e.employee_cntrbtn,this.contribution.employer_cntrbtn=e.employer_cntrbtn,this.contribution.to_year=e.to_year,this.contribution.from_year=e.from_year,this.contribution.total_cntrbtn=e.total_cntrbtn,this.contribution.user_id=this.user.id),this.loading=!0,this.ds.saveContribution(this.contribution?this.contribution:e).subscribe(n=>{this.loading=!1,"Contribution saved successfully."==n.message||"Contribution update successfully."==n.message?this.dialogRef.close(n):this.msg=n?.message})}}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:39,vars:11,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px",1,"fs-sm"],["fxLayout","row","fxLayoutGap","1%"],["fxFlex",""],["type","number","formControlName","from_year","matInput","","min","0","required",""],[4,"ngIf"],["type","number","formControlName","to_year","matInput","","min","0"],["type","number","formControlName","employee_cntrbtn","matInput","","min","0","required",""],["type","number","formControlName","employer_cntrbtn","matInput","","required",""],["fxLayout","row"],["class","c-red",4,"ngIf"],["align","end"],["src","./assets/imgs/loading.gif",4,"ngIf"],["color","warn","mat-raised-button","","tabindex","-1","type","button",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"c-red"],["src","./assets/imgs/loading.gif"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Contributions"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),t._uU(9,"From Year"),t.qZA(),t._UZ(10,"input",5),t.YNc(11,Jt,4,0,"mat-error",6),t.YNc(12,Qt,4,0,"mat-error",6),t.qZA(),t.TgZ(13,"mat-form-field",4)(14,"mat-label"),t._uU(15,"To Year"),t.qZA(),t._UZ(16,"input",7),t.YNc(17,Lt,4,0,"mat-error",6),t.qZA()(),t.TgZ(18,"div",3)(19,"mat-form-field",4)(20,"mat-label"),t._uU(21,"Employee Contribution"),t.qZA(),t._UZ(22,"input",8),t.YNc(23,Mt,4,0,"mat-error",6),t.YNc(24,Yt,4,0,"mat-error",6),t.qZA(),t.TgZ(25,"mat-form-field",4)(26,"mat-label"),t._uU(27,"Employer Contribution"),t.qZA(),t._UZ(28,"input",9),t.YNc(29,Bt,4,0,"mat-error",6),t.YNc(30,Pt,4,0,"mat-error",6),t.qZA()(),t.TgZ(31,"div",10),t.YNc(32,Ft,2,1,"div",11),t.qZA()()()(),t.TgZ(33,"mat-dialog-actions",12),t.YNc(34,$t,1,0,"img",13),t.TgZ(35,"button",14),t.NdJ("click",function(){return n.cancel()}),t._uU(36,"Cancel"),t.qZA(),t.TgZ(37,"button",15),t.NdJ("click",function(){return n.save()}),t._uU(38,"Save"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(7),t.Q6J("ngIf",n.fg.get("from_year").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("from_year").hasError("isMasterSchemeExist")),t.xp6(5),t.Q6J("ngIf",n.fg.get("to_year").hasError("required")),t.xp6(6),t.Q6J("ngIf",n.fg.get("employee_cntrbtn").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("employee_cntrbtn").hasError("maxlength")),t.xp6(5),t.Q6J("ngIf",n.fg.get("employer_cntrbtn").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("employer_cntrbtn").hasError("maxlength")),t.xp6(2),t.Q6J("ngIf",n.msg),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid))},dependencies:[_.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.qQ,s.sg,s.u,Z.lW,u.uh,u.xY,u.H8,d.TO,d.KE,d.hX,T.Nt,l.xw,l.SQ,l.yH],encapsulation:2}),i})();function Gt(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.qZA())}function Ht(i,o){if(1&i&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" From :",e.from_year," ")}}function Wt(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" To :",e.to_year," ")}}function Rt(i,o){1&i&&t._uU(0," N/A ")}function jt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(5);t.Q6J("disabled",e.loading)}}function Kt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",29)(1,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showUserEditDialog(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.YNc(4,jt,3,1,"button",31),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function Vt(i,o){1&i&&(t.TgZ(0,"div",33)(1,"b"),t._uU(2,"Managed by Admin Department"),t.qZA()())}function Xt(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",21),t._uU(3),t.qZA(),t.TgZ(4,"td",22),t.YNc(5,Ht,3,1,"ng-container",23),t.YNc(6,Wt,2,1,"ng-container",24),t.YNc(7,Rt,1,0,"ng-template",null,25,t.W1O),t.qZA(),t.TgZ(9,"td",22),t._uU(10),t.qZA(),t.TgZ(11,"td",22),t._uU(12),t.qZA(),t.TgZ(13,"td",22),t._uU(14),t.qZA(),t.TgZ(15,"td",26),t.YNc(16,Kt,5,2,"div",27),t.YNc(17,Vt,3,0,"ng-template",null,28,t.W1O),t.qZA()(),t.BQk()),2&i){const e=o.$implicit,n=o.index,a=t.MAs(8),r=t.MAs(18),c=t.oxw(3);t.xp6(3),t.Oqu(c.makeSlNo(n)),t.xp6(2),t.Q6J("ngIf",e.from_year)("ngIfElse",a),t.xp6(1),t.Q6J("ngIf",e.to_year),t.xp6(4),t.Oqu(e.employee_cntrbtn),t.xp6(2),t.Oqu(e.employer_cntrbtn),t.xp6(2),t.Oqu(e.total_cntrbtn),t.xp6(2),t.Q6J("ngIf",c.allowEdit())("ngIfElse",r)}}function te(i,o){if(1&i&&(t.TgZ(0,"table",18)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Year"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"employee_cntrbtn"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"employer_cntrbtn"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"total_cntrbtn"),t.qZA(),t.TgZ(13,"th",19),t._uU(14,"Actions"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,Xt,19,9,"ng-container",20),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(16),t.Q6J("ngForOf",e)}}function ee(i,o){1&i&&(t.TgZ(0,"div",14)(1,"div",34),t._uU(2,"No data found"),t.qZA()())}function ie(i,o){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,te,17,1,"table",16),t.YNc(2,ee,3,0,"ng-template",null,17,t.W1O),t.qZA()),2&i){const e=o.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",n)}}function ne(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}let oe=(()=>{class i{constructor(e,n){this.ds=e,this.dialog=n,this.pageSize=50,this.pageSizeOptions=this.ds.PageSizeOptions,this.loading=!1,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(""),this.refreshToken$=new U.X(void 0)}ngOnInit(){this.user=this.ds.curr_user$.value}ngAfterViewInit(){this.page$=this.paginator.page.asObservable().pipe((0,h.O)({previousPageIndex:0,pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize,length:this.paginator.length})),this.filter_include_inactive.valueChanges.pipe((0,h.O)(this.filter_include_inactive.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));const n=this.filter_search_text.valueChanges.pipe((0,h.O)(this.filter_search_text.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));setTimeout(()=>{this.contributions$=(0,I.a)([n,this.page$,this.refreshToken$]).pipe((0,O.b)(200),(0,f.b)(()=>this.loading=!0),(0,v.w)(([a,r])=>this.ds.getContributions({search_text:a,limit:r.pageSize,offset:r.pageIndex})),(0,m.U)(a=>(this.loading=!1,this.paginator.length=a.tot_rows,a.rows)))},100)}allowEdit(){return!0}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showUserEditDialog(e){e||(e=null),this.dialog.open(zt,{disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.refreshToken$.next(void 0)})}delete(e){!confirm("Are you sure to delete Contribution?")||(this.loading=!0,this.ds.deleteContribution(e).subscribe(n=>{this.loading=!1,"Contribution deleted successfully."==n.message&&this.refreshToken$.next(void 0)}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-contributions"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:29,vars:10,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[3,"ngClass"],[1,"fs-12"],["type","text","matInput","","appAutofocus","","maxlength","200","autocomplete","off",3,"formControl","click"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"pageSizeOptions","pageSize"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],[1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c",2,"text-align","center"],[2,"text-align","center"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["nullv",""],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center",4,"ngIf","ngIfElse"],["tmplNoEditMessage",""],["fxLayout","row","fxLayoutAlign","space-evenly center"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click",4,"ngIf"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","darkorange"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Contributions"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showUserEditDialog(null)}),t._uU(9,"Add New Scheme "),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6),t._UZ(13,"div",3),t.YNc(14,Gt,2,0,"div",7),t.TgZ(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"Search"),t.qZA(),t.TgZ(19,"input",10),t.NdJ("click",function(r){return r.target.select()}),t.qZA(),t.TgZ(20,"mat-hint"),t._uU(21,"Scheme Name "),t.qZA()()()(),t.TgZ(22,"div"),t.YNc(23,ie,4,2,"div",11),t.ALo(24,"async"),t.qZA(),t.YNc(25,ne,4,0,"ng-template",null,12,t.W1O),t.TgZ(27,"div"),t._UZ(28,"mat-paginator",13),t.qZA()()()()()),2&e){const a=t.MAs(26);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(4),t.Q6J("ngIf",t.lcZ(24,8,n.contributions$))("ngIfElse",a),t.xp6(5),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.nD,s.oH,Z.lW,g.a8,g.dk,g.dn,g.n5,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,l.xw,l.SQ,l.Wh,l.yH,q.oO,_.Ov],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:80%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();function ae(i,o){if(1&i&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.id," - ",e.district_name,"")}}function se(i,o){if(1&i&&(t.ynx(0),t.YNc(1,ae,2,3,"mat-option",13),t.BQk()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!(n.user_district_id&&n.user_district_id!=e.id))}}function re(i,o){if(1&i&&(t.TgZ(0,"div",8)(1,"mat-form-field",9)(2,"mat-label"),t._uU(3,"District"),t.qZA(),t.TgZ(4,"mat-select",10)(5,"mat-option",11),t._uU(6,"None"),t.qZA(),t.YNc(7,se,2,1,"ng-container",12),t.ALo(8,"async"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("formControl",e.district_id_fc),t.xp6(3),t.Q6J("ngForOf",t.lcZ(8,2,e.districts$))}}function le(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",14),t._uU(2),t.qZA(),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.name)}}function ce(i,o){if(1&i&&(t.TgZ(0,"div",8)(1,"mat-form-field",9)(2,"mat-label"),t._uU(3,"Designation"),t.qZA(),t.TgZ(4,"mat-select",10)(5,"mat-option",11),t._uU(6,"None"),t.qZA(),t.YNc(7,le,3,2,"ng-container",12),t.ALo(8,"async"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("formControl",e.designation_code_fc),t.xp6(3),t.Q6J("ngForOf",t.lcZ(8,2,e.designation$))}}function de(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-option",14),t._uU(2),t.qZA(),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.email)}}function _e(i,o){if(1&i&&(t.TgZ(0,"div",8)(1,"mat-form-field",9)(2,"mat-label"),t._uU(3,"Users"),t.qZA(),t.TgZ(4,"mat-select",10)(5,"mat-option",11),t._uU(6,"None"),t.qZA(),t.YNc(7,de,3,2,"ng-container",12),t.ALo(8,"async"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("formControl",e.users_fc),t.xp6(3),t.Q6J("ngForOf",t.lcZ(8,2,e.users$))}}function ue(i,o){1&i&&(t.TgZ(0,"div",15),t._UZ(1,"mat-spinner",16),t.qZA())}let ge=(()=>{class i{constructor(e,n,a){this.dataService=e,this.cnt=n,this.dialogRef=a,this.submitted=!1,this.loading=!1,this.district_id_fc=new s.p4(this.cnt?.district_id),this.designation_code_fc=new s.p4(this.cnt?.designation_code),this.users_fc=new s.p4(this.cnt?.c_user_id),this.districts$=this.dataService.getDistricts({}).pipe((0,m.U)(r=>r.rows)),this.designation$=this.dataService.getDesignations({not_code:"APPS"}).pipe((0,m.U)(r=>r))}ngOnInit(){this.fg=new s.nJ({district_id:this.district_id_fc,users_id:this.users_fc});const e=this.initialize_designation_code();this.users$=e.pipe((0,h.O)(this.cnt?.district_id),(0,v.w)(n=>this.dataService.getUsers({designation_code:n}).pipe((0,m.U)(a=>a.rows))))}check_user_designation_code_available(){const e=this.dataService.curr_user$.getValue(),n=e&&!!e.district_id;return n&&(this.district_id_fc.setValue(e.district_id),this.user_district_id=e.district_id),n}initialize_designation_code(){const e=this.dataService.curr_user$.pipe((0,m.U)(r=>r.designation_code)),n=this.designation_code_fc.valueChanges.pipe((0,h.O)(this.designation_code_fc.value),(0,m.U)(r=>r));return(0,k.s)(this.check_user_designation_code_available.bind(this),e,n).pipe((0,m.U)(r=>r))}save(){if(this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.fg.valid){const e=Object.assign({},this.fg.value);e.user_id=this.dataService.curr_user$.value.id,e.district_id=this.district_id_fc.enabled?e.district_id:null,this.cnt&&(e.is_active=this.cnt.is_active),this.loading=!0,this.dataService.saveCounter(e).subscribe(n=>{this.loading=!1,"Counter saved successfully."==n.message&&(n.id&&(this.cnt.id=n.id),this.dialogRef.close(this.cnt))})}}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:15,vars:6,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px"],["fxLayout","row",4,"ngIf"],["align","end"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["type","button","mat-raised-button","","color","warn","tabindex","-1",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row"],["fxFlex",""],[3,"formControl"],["value","ALL"],[4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[3,"value"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Add Counter"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2),t.YNc(6,re,9,4,"div",3),t.YNc(7,ce,9,4,"div",3),t.YNc(8,_e,9,4,"div",3),t.qZA()()(),t.TgZ(9,"mat-dialog-actions",4),t.YNc(10,ue,2,0,"div",5),t.TgZ(11,"button",6),t.NdJ("click",function(){return n.cancel()}),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",7),t.NdJ("click",function(){return n.save()}),t._uU(14,"Save"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(2),t.Q6J("ngIf",n.district_id_fc.enabled),t.xp6(1),t.Q6J("ngIf",n.designation_code_fc.enabled),t.xp6(1),t.Q6J("ngIf",n.users_fc.enabled),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid))},dependencies:[_.sg,_.O5,s._Y,s.JJ,s.JL,s.oH,s.sg,J.ey,Z.lW,u.uh,u.xY,u.H8,d.KE,d.hX,w.Ou,Q.gD,l.xw,l.SQ,l.Wh,l.yH,_.Ov],encapsulation:2}),i})();function pe(i,o){1&i&&(t.TgZ(0,"div",15),t._UZ(1,"mat-spinner",16),t.qZA())}function me(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.district_name)}}function fe(i,o){if(1&i&&(t.TgZ(0,"span")(1,"b"),t._uU(2),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.c_user_name)}}function he(i,o){if(1&i&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.c_user_designation_name)}}function xe(i,o){if(1&i&&(t.TgZ(0,"span")(1,"b"),t._uU(2),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.c_start_ts.format("DD/MM/YYYY hh:mm:ss a"))}}function Ze(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(4);t.Q6J("disabled",e.loading)}}function be(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",24),t._uU(3),t.qZA(),t.TgZ(4,"td",25),t.YNc(5,me,2,1,"span",26),t.qZA(),t.TgZ(6,"td",25),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.YNc(9,fe,3,1,"span",26),t.YNc(10,he,2,1,"div",27),t.qZA(),t.TgZ(11,"td"),t.YNc(12,xe,3,1,"span",26),t.qZA(),t.TgZ(13,"td",28)(14,"div",29)(15,"div",30)(16,"button",31),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.toggleStatus(r))}),t.TgZ(17,"mat-icon",32),t._uU(18,"person"),t.qZA()()()()(),t.TgZ(19,"td",33)(20,"div",34)(21,"button",35),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.showEditDialog(r))}),t.TgZ(22,"mat-icon"),t._uU(23,"edit"),t.qZA()(),t.YNc(24,Ze,3,1,"button",36),t.qZA()()(),t.BQk()}if(2&i){const e=o.$implicit,n=o.index,a=t.oxw(3);t.xp6(3),t.Oqu(a.makeSlNo(n)),t.xp6(2),t.Q6J("ngIf",e.district_id),t.xp6(2),t.Oqu(e.counter_no),t.xp6(2),t.Q6J("ngIf",e.c_user_name),t.xp6(1),t.Q6J("ngIf",e.c_user_designation_name),t.xp6(2),t.Q6J("ngIf",e.c_start_ts),t.xp6(3),t.Q6J("matTooltip",e.is_active?"Active":"Inactive"),t.xp6(1),t.Udp("color",e.is_active?"darkgreen":"red"),t.Q6J("disabled",a.loading),t.xp6(5),t.Q6J("disabled",a.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function Te(i,o){if(1&i&&(t.TgZ(0,"table",19)(1,"thead")(2,"tr")(3,"th",20),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th",20),t._uU(6,"District"),t.qZA(),t.TgZ(7,"th",20),t._uU(8,"Counter No."),t.qZA(),t.TgZ(9,"th",21),t._uU(10,"Current Cashier"),t.qZA(),t.TgZ(11,"th",20),t._uU(12,"Status"),t.qZA(),t.TgZ(13,"th",22),t._uU(14,"Actions"),t.qZA()(),t.TgZ(15,"tr")(16,"th"),t._uU(17,"Name"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Open Since"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,be,25,12,"ng-container",23),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(21),t.Q6J("ngForOf",e)}}function ve(i,o){1&i&&(t.TgZ(0,"div",15)(1,"div",39),t._uU(2,"No data found"),t.qZA()())}function Ce(i,o){if(1&i&&(t.TgZ(0,"div",15),t.YNc(1,Te,22,1,"table",17),t.YNc(2,ve,3,0,"ng-template",null,18,t.W1O),t.qZA()),2&i){const e=o.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",n)}}function ye(i,o){1&i&&(t.TgZ(0,"div",15),t._UZ(1,"mat-spinner",16),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}let Ae=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.pageSize=50,this.pageSizeOptions=this.dataService.PageSizeOptions,this.loading=!1,this.filter_include_inactive=new s.p4(!0),this.filter_search_text=new s.p4(""),this.refreshToken$=new U.X(void 0)}ngOnInit(){}ngAfterViewInit(){this.page$=this.paginator.page.asObservable().pipe((0,h.O)({previousPageIndex:0,pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize,length:this.paginator.length}));const e=this.filter_include_inactive.valueChanges.pipe((0,h.O)(this.filter_include_inactive.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)})),n=this.filter_search_text.valueChanges.pipe((0,h.O)(this.filter_search_text.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));setTimeout(()=>{this.data$=(0,I.a)([e,n,this.page$,this.refreshToken$]).pipe((0,O.b)(200),(0,f.b)(()=>this.loading=!0),(0,v.w)(([a,r,c])=>this.dataService.getCounters({include_inactive:a,search_text:r,limit:c.pageSize,offset:c.pageIndex})),(0,m.U)(a=>(this.loading=!1,this.paginator.length=a.tot_rows,a.rows)))},100)}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showEditDialog(e){e||(e=null),this.dialog.open(ge,{width:"600px",disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.refreshToken$.next(void 0)})}delete(e){!confirm("Are you sure to delete counter?")||(this.loading=!0,this.dataService.deleteCounter({id:e.id}).subscribe(n=>{this.loading=!1,"Counter deleted successfully."==n.message&&this.refreshToken$.next(void 0)}))}toggleStatus(e){if(!confirm("Are you sure to toggle counter status?"))return;const n={id:e.id,is_active:!e.is_active,user_id:this.dataService.curr_user$.value.id};this.loading=!0,this.dataService.toggleCounterStatus(n).subscribe(a=>{this.loading=!1,"Counter status changed successfully."==a.message&&this.refreshToken$.next(void 0)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:31,vars:11,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["type","button","mat-raised-button","","color","primary",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px"],[3,"formControl"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[3,"ngClass"],[1,"fs-12"],["type","text","matInput","","appAutofocus","","maxlength","200","autocomplete","off",3,"formControl","click"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"pageSize","pageSizeOptions"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],["rowspan","2"],["colspan","2"],["rowspan","2",1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c",2,"text-align","center"],[2,"text-align","center"],[4,"ngIf"],["class","mat-small",4,"ngIf"],[1,"ta-c"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px"],[3,"matTooltip"],["mat-icon-button","","type","button",1,"lh-20",2,"height","unset",3,"disabled","click"],[2,"height","unset"],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center","fxLayoutGap","5px"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click",4,"ngIf"],[1,"mat-small"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Cash Counters"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showEditDialog()}),t._uU(9,"Add New Cash Counter"),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6)(13,"div")(14,"mat-checkbox",7),t._uU(15,"Include inactive Counters"),t.qZA()(),t._UZ(16,"div",3),t.YNc(17,pe,2,0,"div",8),t.TgZ(18,"div",9)(19,"mat-form-field",10)(20,"mat-label"),t._uU(21,"Search"),t.qZA(),t.TgZ(22,"input",11),t.NdJ("click",function(r){return r.target.select()}),t.qZA(),t.TgZ(23,"mat-hint"),t._uU(24,"Counter No."),t.qZA()()()(),t.YNc(25,Ce,4,2,"div",12),t.ALo(26,"async"),t.YNc(27,ye,4,0,"ng-template",null,13,t.W1O),t.TgZ(29,"div"),t._UZ(30,"mat-paginator",14),t.qZA()()()()()),2&e){const a=t.MAs(28);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("formControl",n.filter_include_inactive),t.xp6(3),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(3),t.Q6J("ngIf",t.lcZ(26,9,n.data$))("ngIfElse",a),t.xp6(5),t.Q6J("pageSize",n.pageSize)("pageSizeOptions",n.pageSizeOptions)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.nD,s.oH,Z.lW,g.a8,g.dk,g.dn,g.n5,B.oG,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,L.gM,l.xw,l.SQ,l.Wh,l.yH,q.oO,_.Ov],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:90%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();function we(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Code is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function qe(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Code should not exceed "),t.TgZ(2,"b"),t._uU(3,"20 characters"),t.qZA()())}function Ue(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," district Code "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function ke(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function De(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name should not exceed "),t.TgZ(2,"b"),t._uU(3,"100 characters"),t.qZA()())}function Ie(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," District name "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function Ne(i,o){if(1&i&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.msg)}}function Ee(i,o){1&i&&t._UZ(0,"img",16)}let Se=(()=>{class i{constructor(e,n,a){this.dataService=e,this.district=n,this.dialogRef=a,this.user=this.dataService.curr_user$.value,this.submitted=!1,this.showDesignations=!1,this.showPwd=!0,this.loading=!1,this.isMasterDistrictExist=r=>(0,N.H)(500).pipe((0,f.b)(c=>this.loading=!0),(0,v.w)(()=>(0,k.s)(()=>!!r.value,this.dataService.isMasterDistrictExist({district:r.value}).pipe((0,m.U)(c=>c?{isMasterDistrictExist:!0}:null)),(0,E.of)(null))),(0,S.x)(()=>this.loading=!1))}ngOnInit(){this.user=this.dataService.curr_user$.value,this.formInitialize(),this.district&&this.formExisting(),setTimeout(()=>{this.onShowDesignations(!0)},0)}formInitialize(){this.fg=new s.nJ({district_name:new s.p4(null,[s.kI.required,s.kI.maxLength(100)],[this.isMasterDistrictExist]),district_code:new s.p4(null,[s.kI.required,s.kI.maxLength(100)],[this.isMasterDistrictExist])})}formExisting(){this.fg=new s.nJ({district_name:new s.p4(this.district?.district_name,[s.kI.required,s.kI.maxLength(100)]),district_code:new s.p4(this.district.district_code,[s.kI.required,s.kI.maxLength(100)])})}check_user_zone_available(){return this.dataService.curr_user$.getValue()}onShowDesignations(e){this.showDesignations=e}number_chars_only(e){return[1,2,3,4,5,6,7,8,9,0].map(n=>n.toString()).findIndex(n=>n===e.key)>=0}save(){if(this.msg=null,this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.fg.valid){const e=Object.assign({},this.fg.value);this.district&&(this.district.district_name=e.district_name,this.district.district_code=e.district_code),this.loading=!0,this.dataService.saveDistrict(this.district?this.district:e).subscribe(n=>{this.loading=!1,"District saved successfully."==n.message||"District update successfully."==n.message?this.dialogRef.close(n):this.msg=n?.message})}}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:29,vars:10,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px",1,"fs-sm"],["fxLayout","row","fxLayoutGap","1%"],["fxFlex",""],["formControlName","district_code","matInput","","maxlength","20","required","","type","text"],[4,"ngIf"],["fxFlex","75"],["formControlName","district_name","matInput","","maxlength","100","required","","type","text"],["fxLayout","row"],["class","c-red",4,"ngIf"],["align","end"],["src","./assets/imgs/loading.gif",4,"ngIf"],["color","warn","mat-raised-button","","tabindex","-1","type","button",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"c-red"],["src","./assets/imgs/loading.gif"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Districts"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),t._uU(9,"Code"),t.qZA(),t._UZ(10,"input",5),t.YNc(11,we,4,0,"mat-error",6),t.YNc(12,qe,4,0,"mat-error",6),t.YNc(13,Ue,4,0,"mat-error",6),t.qZA(),t.TgZ(14,"mat-form-field",7)(15,"mat-label"),t._uU(16,"Name"),t.qZA(),t._UZ(17,"input",8),t.YNc(18,ke,4,0,"mat-error",6),t.YNc(19,De,4,0,"mat-error",6),t.YNc(20,Ie,4,0,"mat-error",6),t.qZA()(),t.TgZ(21,"div",9),t.YNc(22,Ne,2,1,"div",10),t.qZA()()()(),t.TgZ(23,"mat-dialog-actions",11),t.YNc(24,Ee,1,0,"img",12),t.TgZ(25,"button",13),t.NdJ("click",function(){return n.cancel()}),t._uU(26,"Cancel"),t.qZA(),t.TgZ(27,"button",14),t.NdJ("click",function(){return n.save()}),t._uU(28,"Save"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(7),t.Q6J("ngIf",n.fg.get("district_code").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("district_code").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",n.fg.get("district_code").hasError("isMasterDistrictExist")),t.xp6(5),t.Q6J("ngIf",n.fg.get("district_name").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("district_name").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",n.fg.get("district_name").hasError("isMasterDistrictExist")),t.xp6(2),t.Q6J("ngIf",n.msg),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid))},dependencies:[_.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.sg,s.u,Z.lW,u.uh,u.xY,u.H8,d.TO,d.KE,d.hX,T.Nt,l.xw,l.SQ,l.yH],encapsulation:2}),i})();function Oe(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.qZA())}function Je(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(5);t.Q6J("disabled",e.loading)}}function Qe(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",26)(1,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showUserEditDialog(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.YNc(4,Je,3,1,"button",28),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function Le(i,o){1&i&&(t.TgZ(0,"div",30)(1,"b"),t._uU(2,"Managed by Admin Department"),t.qZA()())}function Me(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",21),t._uU(3),t.qZA(),t.TgZ(4,"td",22),t._uU(5),t.qZA(),t.TgZ(6,"td",22),t._uU(7),t.qZA(),t.TgZ(8,"td",23),t.YNc(9,Qe,5,2,"div",24),t.YNc(10,Le,3,0,"ng-template",null,25,t.W1O),t.qZA()(),t.BQk()),2&i){const e=o.$implicit,n=o.index,a=t.MAs(11),r=t.oxw(3);t.xp6(3),t.Oqu(r.makeSlNo(n)),t.xp6(2),t.Oqu(e.district_code),t.xp6(2),t.Oqu(e.district_name),t.xp6(2),t.Q6J("ngIf",r.allowEdit())("ngIfElse",a)}}function Ye(i,o){if(1&i&&(t.TgZ(0,"table",18)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Code"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"District"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Actions"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,Me,12,5,"ng-container",20),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(12),t.Q6J("ngForOf",e)}}function Be(i,o){1&i&&(t.TgZ(0,"div",14)(1,"div",31),t._uU(2,"No data found"),t.qZA()())}function Pe(i,o){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,Ye,13,1,"table",16),t.YNc(2,Be,3,0,"ng-template",null,17,t.W1O),t.qZA()),2&i){const e=o.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",n)}}function Fe(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}let $e=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.pageSize=50,this.pageSizeOptions=this.dataService.PageSizeOptions,this.loading=!1,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(""),this.refreshToken$=new U.X(void 0)}ngOnInit(){this.user=this.dataService.curr_user$.value}ngAfterViewInit(){this.page$=this.paginator.page.asObservable().pipe((0,h.O)({previousPageIndex:0,pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize,length:this.paginator.length}));const e=this.filter_search_text.valueChanges.pipe((0,h.O)(this.filter_search_text.value),(0,m.U)(n=>n),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));setTimeout(()=>{this.districts$=(0,I.a)([e,this.page$,this.refreshToken$]).pipe((0,O.b)(200),(0,f.b)(()=>this.loading=!0),(0,v.w)(([n,a])=>this.dataService.getDistricts({search_text:n,limit:a.pageSize,offset:a.pageIndex})),(0,m.U)(n=>(this.loading=!1,this.paginator.length=n.tot_rows,n.rows)))},100)}allowEdit(){return!0}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showUserEditDialog(e){e||(e=null),this.dialog.open(Se,{disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.refreshToken$.next(void 0)})}delete(e){!confirm("Are you sure to delete District?")||(this.loading=!0,this.dataService.deleteDistrict({id:e.id}).subscribe(n=>{this.loading=!1,"District deleted successfully."==n.message&&this.refreshToken$.next(void 0)}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:29,vars:10,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[3,"ngClass"],[1,"fs-12"],["type","text","matInput","","appAutofocus","","maxlength","200","autocomplete","on",3,"formControl","click"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"pageSizeOptions","pageSize"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],[1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c",2,"text-align","center"],[2,"text-align","center"],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center",4,"ngIf","ngIfElse"],["tmplNoEditMessage",""],["fxLayout","row","fxLayoutAlign","space-evenly center"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click",4,"ngIf"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","darkorange"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Districts"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showUserEditDialog()}),t._uU(9,"Add New District "),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6),t._UZ(13,"div",3),t.YNc(14,Oe,2,0,"div",7),t.TgZ(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"Search"),t.qZA(),t.TgZ(19,"input",10),t.NdJ("click",function(r){return r.target.select()}),t.qZA(),t.TgZ(20,"mat-hint"),t._uU(21,"District Name "),t.qZA()()()(),t.TgZ(22,"div"),t.YNc(23,Pe,4,2,"div",11),t.ALo(24,"async"),t.qZA(),t.YNc(25,Fe,4,0,"ng-template",null,12,t.W1O),t.TgZ(27,"div"),t._UZ(28,"mat-paginator",13),t.qZA()()()()()),2&e){const a=t.MAs(26);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(4),t.Q6J("ngIf",t.lcZ(24,8,n.districts$))("ngIfElse",a),t.xp6(5),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.nD,s.oH,Z.lW,g.a8,g.dk,g.dn,g.n5,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,l.xw,l.SQ,l.Wh,l.yH,q.oO,_.Ov],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:50%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();function ze(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Code is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function Ge(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Code should not exceed "),t.TgZ(2,"b"),t._uU(3,"20 characters"),t.qZA()())}function He(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Document Type Code "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function We(i,o){if(1&i&&(t.TgZ(0,"mat-form-field",5)(1,"mat-label"),t._uU(2,"Code"),t.qZA(),t._UZ(3,"input",18),t.YNc(4,ze,4,0,"mat-error",7),t.YNc(5,Ge,4,0,"mat-error",7),t.YNc(6,He,4,0,"mat-error",7),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.fg.get("type_code").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.fg.get("type_code").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",e.fg.get("type_code").hasError("isMasterDocTypeExist"))}}function Re(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function je(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name should not exceed "),t.TgZ(2,"b"),t._uU(3,"100 characters"),t.qZA()())}function Ke(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Document Type name "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function Ve(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Description should not exceed "),t.TgZ(2,"b"),t._uU(3,"200 characters"),t.qZA()())}function Xe(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.scheme_name)}}function ti(i,o){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.code),t.xp6(1),t.Oqu(e.name)}}function ei(i,o){if(1&i&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.msg)}}function ii(i,o){1&i&&t._UZ(0,"img",21)}let ni=(()=>{class i{constructor(e,n,a){this.ds=e,this.typ=n,this.dialogRef=a,this.submitted=!1,this.showDesignations=!1,this.showPwd=!0,this.loading=!1,this.isMasterDocTypeExist=r=>(0,N.H)(500).pipe((0,f.b)(c=>this.loading=!0),(0,v.w)(()=>(0,k.s)(()=>!!r.value,this.ds.isMasterDocTypeExist({type_name:r.value}).pipe((0,m.U)(c=>c?{isMasterDocTypeExist:!0}:null)),(0,E.of)(null))),(0,S.x)(()=>this.loading=!1))}ngOnInit(){this.applicable=[{code:"R",name:"Establishment Registration"},{code:"C",name:"Claims Registration"}],this.user=this.ds.curr_user$.value,this.formInitialize(),this.getSchemes(),this.typ&&this.formExisting()}formInitialize(){this.fg=new s.nJ({name:new s.p4(null,[s.kI.required,s.kI.maxLength(100)],[this.isMasterDocTypeExist]),type_code:new s.p4(null,s.kI.required,[this.isMasterDocTypeExist]),description:new s.p4(null),applicable_to:new s.p4(null),scheme_codes:new s.p4(null)})}formExisting(){this.fg=new s.nJ({name:new s.p4(this.typ?.name,[s.kI.required,s.kI.maxLength(100)]),type_code:new s.p4(this.typ.code,[s.kI.required,s.kI.maxLength(20)]),description:new s.p4(this.typ.description),applicable_to:new s.p4(this.typ.applicable_to),scheme_codes:new s.p4(this.typ.scheme_codes)}),console.log(typeof this.typ.scheme_codes),console.log("sc",this.typ.scheme_codes)}getSchemes(){this.ds.getSchemes({}).subscribe(e=>{this.schemes=e.rows})}check_user_zone_available(){return this.ds.curr_user$.getValue()}number_chars_only(e){return[1,2,3,4,5,6,7,8,9,0].map(n=>n.toString()).findIndex(n=>n===e.key)>=0}save(){if(this.msg=null,this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.fg.valid){const e=Object.assign({},this.fg.value);e.user_id=this.user.id,this.typ&&(this.typ.name=e.name,this.typ.code=e.type_code,this.typ.applicable_to=e.applicable_to,this.typ.scheme_codes=e.scheme_codes,this.typ.description=e.description,this.typ.user_id=this.user.id),this.loading=!0,this.ds.saveTypeDoc(this.typ?this.typ:e).subscribe(n=>{this.loading=!1,"Type saved successfully."==n.message||"Type update successfully."==n.message?this.dialogRef.close(n):this.msg=n?.message})}else alert("Please check all details")}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:40,vars:11,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px",1,"fs-sm"],["fxLayout","row","fxLayoutGap","1%"],["fxFlex","",4,"ngIf"],["fxFlex",""],["formControlName","name","matInput","","maxlength","100","required","","type","text"],[4,"ngIf"],["formControlName","description","matInput","","maxlength","200","type","text"],["formControlName","scheme_codes","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","applicable_to","multiple",""],["fxLayout","row"],["class","c-red",4,"ngIf"],["align","end"],["src","./assets/imgs/loading.gif","alt","",4,"ngIf"],["mat-raised-button","","color","warn","tabindex","-1","type","button",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["formControlName","type_code","matInput","","maxlength","20","required","","type","text"],[3,"value"],[1,"c-red"],["src","./assets/imgs/loading.gif","alt",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Document Types"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"div",3),t.YNc(7,We,7,3,"mat-form-field",4),t.TgZ(8,"mat-form-field",5)(9,"mat-label"),t._uU(10,"Name"),t.qZA(),t._UZ(11,"input",6),t.YNc(12,Re,4,0,"mat-error",7),t.YNc(13,je,4,0,"mat-error",7),t.YNc(14,Ke,4,0,"mat-error",7),t.qZA()(),t.TgZ(15,"mat-form-field",5)(16,"mat-label"),t._uU(17,"Description"),t.qZA(),t._UZ(18,"input",8),t.YNc(19,Ve,4,0,"mat-error",7),t.qZA(),t.TgZ(20,"mat-form-field",5)(21,"mat-label"),t._uU(22,"Other Required Schemes"),t.qZA(),t.TgZ(23,"mat-select",9),t.YNc(24,Xe,2,2,"mat-option",10),t.qZA(),t.TgZ(25,"mat-hint"),t._uU(26,"Chosen claims will be marked mandatory Document type during applicant filling claims."),t.qZA()(),t.TgZ(27,"mat-form-field",5)(28,"mat-label"),t._uU(29,"Applicable to"),t.qZA(),t.TgZ(30,"mat-select",11),t.YNc(31,ti,2,2,"mat-option",10),t.qZA()(),t.TgZ(32,"div",12),t.YNc(33,ei,2,1,"div",13),t.qZA()()()(),t.TgZ(34,"mat-dialog-actions",14),t.YNc(35,ii,1,0,"img",15),t.TgZ(36,"button",16),t.NdJ("click",function(){return n.cancel()}),t._uU(37,"Cancel"),t.qZA(),t.TgZ(38,"button",17),t.NdJ("click",function(){return n.save()}),t._uU(39,"Save"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(3),t.Q6J("ngIf",!n.typ),t.xp6(5),t.Q6J("ngIf",n.fg.get("name").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("name").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",n.fg.get("name").hasError("isMasterDocTypeExist")),t.xp6(5),t.Q6J("ngIf",n.fg.get("description").hasError("maxlength")),t.xp6(5),t.Q6J("ngForOf",n.schemes),t.xp6(7),t.Q6J("ngForOf",n.applicable),t.xp6(2),t.Q6J("ngIf",n.msg),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid))},dependencies:[_.sg,_.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.sg,s.u,J.ey,Z.lW,u.uh,u.xY,u.H8,d.TO,d.KE,d.bx,d.hX,T.Nt,Q.gD,l.xw,l.SQ,l.yH],encapsulation:2}),i})();function oi(i,o){1&i&&(t.TgZ(0,"div",15),t._UZ(1,"mat-spinner",16),t.qZA())}function ai(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.applicable_to," ")}}function si(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.scheme_codes," ")}}function ri(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.deleteType(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(5);t.Q6J("disabled",e.loading)}}function li(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",29)(1,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showUserEditDialog(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.YNc(4,ri,3,1,"button",31),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function ci(i,o){1&i&&(t.TgZ(0,"div",33)(1,"b"),t._uU(2,"Managed by Admin Department"),t.qZA()())}function di(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",22),t._uU(3),t.qZA(),t.TgZ(4,"td",23),t._uU(5),t.qZA(),t.TgZ(6,"td",23),t._uU(7),t.qZA(),t.TgZ(8,"td",23),t._uU(9),t.qZA(),t.TgZ(10,"td",23),t.YNc(11,ai,2,1,"ng-container",24),t.qZA(),t.TgZ(12,"td",23),t.YNc(13,si,2,1,"ng-container",24),t.qZA(),t.TgZ(14,"td",23)(15,"button",25),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.toggleStatus(r))}),t.TgZ(16,"mat-icon"),t._uU(17," insert_drive_file"),t.qZA()()(),t.TgZ(18,"td",26),t.YNc(19,li,5,2,"div",27),t.YNc(20,ci,3,0,"ng-template",null,28,t.W1O),t.qZA()(),t.BQk()}if(2&i){const e=o.$implicit,n=o.index,a=t.MAs(21),r=t.oxw(3),c=t.MAs(28);t.xp6(3),t.Oqu(r.makeSlNo(n)),t.xp6(2),t.Oqu(e.code),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Q6J("ngIf",e.applicable_to&&e.applicable_to)("ngIfElse",c),t.xp6(2),t.Q6J("ngIf",e.scheme_codes&&e.scheme_codes)("ngIfElse",c),t.xp6(2),t.Udp("color",e.is_mandatory?"#ffc107":"green"),t.s9C("title",e.is_mandatory?"Is Mandatory":"Is Not Mandatory"),t.xp6(4),t.Q6J("ngIf",r.allowEdit())("ngIfElse",a)}}function _i(i,o){if(1&i&&(t.TgZ(0,"table",19)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"code"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Description"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Applicable To"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Schemes"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Mandatory"),t.qZA(),t.TgZ(17,"th",20),t._uU(18,"Actions"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,di,22,14,"ng-container",21),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(20),t.Q6J("ngForOf",e)}}function ui(i,o){1&i&&(t.TgZ(0,"div",15)(1,"div",34),t._uU(2,"No data found"),t.qZA()())}function gi(i,o){if(1&i&&(t.TgZ(0,"div",15),t.YNc(1,_i,21,1,"table",17),t.YNc(2,ui,3,0,"ng-template",null,18,t.W1O),t.qZA()),2&i){const e=o.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",n)}}function pi(i,o){1&i&&(t.TgZ(0,"div",15),t._UZ(1,"mat-spinner",16),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}function mi(i,o){1&i&&t._uU(0," N/A ")}let fi=(()=>{class i{constructor(e,n){this.ds=e,this.dialog=n,this.pageSize=50,this.pageSizeOptions=this.ds.PageSizeOptions,this.loading=!1,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(""),this.refreshToken$=new U.X(void 0)}ngOnInit(){this.user=this.ds.curr_user$.value}ngAfterViewInit(){this.page$=this.paginator.page.asObservable().pipe((0,h.O)({previousPageIndex:0,pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize,length:this.paginator.length})),this.filter_include_inactive.valueChanges.pipe((0,h.O)(this.filter_include_inactive.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));const n=this.filter_search_text.valueChanges.pipe((0,h.O)(this.filter_search_text.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));setTimeout(()=>{this.types$=(0,I.a)([n,this.page$,this.refreshToken$]).pipe((0,O.b)(200),(0,f.b)(()=>this.loading=!0),(0,v.w)(([a,r])=>this.ds.getTypesDoc({search_text:a,limit:r.pageSize,offset:r.pageIndex})),(0,m.U)(a=>(this.loading=!1,this.paginator.length=a.tot_rows,a.rows)))},100)}allowEdit(){return!0}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showUserEditDialog(e){e||(e=null),this.dialog.open(ni,{width:"40%",hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.refreshToken$.next(void 0)})}deleteType(e){!confirm("Are you sure to delete Document Type?")||(this.loading=!0,this.ds.deleteType(e).subscribe(n=>{this.loading=!1,"Document Type deleted successfully."==n.message&&this.refreshToken$.next(void 0)}))}toggleStatus(e){if(!confirm("Are you sure to toggle Document mandatory status?"))return;let n={code:e.code,is_mandatory:!e.is_mandatory,user_id:this.user.id};this.loading=!0,this.ds.toggleDocTypeStatus(n).subscribe(a=>{this.loading=!1,"Document mandatory status changed successfully."==a.message&&this.refreshToken$.next(void 0)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-doc-types"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:31,vars:10,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[3,"ngClass"],[1,"fs-12"],["appAutofocus","","autocomplete","off","matInput","","maxlength","200","type","text",3,"formControl","click"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],["na",""],[3,"pageSizeOptions","pageSize"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],[1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c",2,"text-align","center"],[2,"text-align","center"],[4,"ngIf","ngIfElse"],["mat-icon-button","",3,"title","click"],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center",4,"ngIf","ngIfElse"],["tmplNoEditMessage",""],["fxLayout","row","fxLayoutAlign","space-evenly center"],["aria-label","Edit icon to edit user","color","primary","mat-icon-button","","title","Edit",3,"disabled","click"],["aria-label","Delete icon to delete the user","color","warn","mat-icon-button","","title","Delete",3,"disabled","click",4,"ngIf"],["aria-label","Delete icon to delete the user","color","warn","mat-icon-button","","title","Delete",3,"disabled","click"],[2,"color","darkorange"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Document Types"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showUserEditDialog(null)}),t._uU(9,"Add New Document Type "),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6),t._UZ(13,"div",3),t.YNc(14,oi,2,0,"div",7),t.TgZ(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"Search"),t.qZA(),t.TgZ(19,"input",10),t.NdJ("click",function(r){return r.target.select()}),t.qZA(),t.TgZ(20,"mat-hint"),t._uU(21,"Document Type Name"),t.qZA()()()(),t.TgZ(22,"div"),t.YNc(23,gi,4,2,"div",11),t.ALo(24,"async"),t.qZA(),t.YNc(25,pi,4,0,"ng-template",null,12,t.W1O),t.YNc(27,mi,1,0,"ng-template",null,13,t.W1O),t.TgZ(29,"div"),t._UZ(30,"mat-paginator",14),t.qZA()()()()()),2&e){const a=t.MAs(26);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(4),t.Q6J("ngIf",t.lcZ(24,8,n.types$))("ngIfElse",a),t.xp6(7),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.nD,s.oH,Z.lW,g.a8,g.dk,g.dn,g.n5,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,l.xw,l.SQ,l.Wh,l.yH,q.oO,_.Ov],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:80%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();function hi(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Education District Code is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function xi(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Education District Code should not exceed "),t.TgZ(2,"b"),t._uU(3,"20 characters"),t.qZA()())}function Zi(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Education District district Code "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function bi(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Education District Name is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function Ti(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Education District Name should not exceed "),t.TgZ(2,"b"),t._uU(3,"100 characters"),t.qZA()())}function vi(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Education District District name "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function Ci(i,o){if(1&i&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.msg)}}function yi(i,o){1&i&&t._UZ(0,"img",16)}let Ai=(()=>{class i{constructor(e,n,a){this.ds=e,this.edu_district=n,this.dialogRef=a,this.submitted=!1,this.showDesignations=!1,this.showPwd=!0,this.loading=!1,this.isMasterEdu_DistrictExist=r=>(0,N.H)(500).pipe((0,f.b)(c=>this.loading=!0),(0,v.w)(()=>(0,k.s)(()=>!!r.value,this.ds.isMasterEdu_DistrictExist({edu_district_name:r.value}).pipe((0,m.U)(c=>c?{isMasterEdu_DistrictExist:!0}:null)),(0,E.of)(null))),(0,S.x)(()=>this.loading=!1))}ngOnInit(){this.user=this.ds.curr_user$.value,this.formInitialize(),this.edu_district&&this.formExisting(),setTimeout(()=>{this.onShowDesignations(!0)},0)}formInitialize(){this.fg=new s.nJ({edu_district_name:new s.p4(null,[s.kI.required,s.kI.maxLength(100)],[this.isMasterEdu_DistrictExist]),edu_district_code:new s.p4(null,[s.kI.required,s.kI.maxLength(100)],[this.isMasterEdu_DistrictExist])})}formExisting(){this.fg=new s.nJ({edu_district_name:new s.p4(this.edu_district?.edu_district_name,[s.kI.required,s.kI.maxLength(100)]),edu_district_code:new s.p4(this.edu_district.edu_district_code,[s.kI.required,s.kI.maxLength(100)])})}check_user_zone_available(){return this.ds.curr_user$.getValue()}onShowDesignations(e){this.showDesignations=e}number_chars_only(e){return[1,2,3,4,5,6,7,8,9,0].map(n=>n.toString()).findIndex(n=>n===e.key)>=0}save(){if(this.msg=null,this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.fg.valid){const e=Object.assign({},this.fg.value);this.edu_district&&(this.edu_district.edu_district_name=e.edu_district_name,this.edu_district.edu_district_code=e.edu_district_code),this.loading=!0,this.ds.saveEdu_District(this.edu_district?this.edu_district:e).subscribe(n=>{this.loading=!1,"Education District saved successfully."==n.message||"Education District update successfully."==n.message?this.dialogRef.close(n):this.msg=n?.message})}}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:29,vars:10,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px",1,"fs-sm"],["fxLayout","row","fxLayoutGap","1%"],["fxFlex",""],["formControlName","edu_district_code","matInput","","maxlength","20","required","","type","text"],[4,"ngIf"],["fxFlex","75"],["formControlName","edu_district_name","matInput","","maxlength","100","required","","type","text"],["fxLayout","row"],["class","c-red",4,"ngIf"],["align","end"],["src","./assets/imgs/loading.gif",4,"ngIf"],["color","warn","mat-raised-button","","tabindex","-1","type","button",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"c-red"],["src","./assets/imgs/loading.gif"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Education District"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),t._uU(9,"Code"),t.qZA(),t._UZ(10,"input",5),t.YNc(11,hi,4,0,"mat-error",6),t.YNc(12,xi,4,0,"mat-error",6),t.YNc(13,Zi,4,0,"mat-error",6),t.qZA(),t.TgZ(14,"mat-form-field",7)(15,"mat-label"),t._uU(16,"Name"),t.qZA(),t._UZ(17,"input",8),t.YNc(18,bi,4,0,"mat-error",6),t.YNc(19,Ti,4,0,"mat-error",6),t.YNc(20,vi,4,0,"mat-error",6),t.qZA()(),t.TgZ(21,"div",9),t.YNc(22,Ci,2,1,"div",10),t.qZA()()()(),t.TgZ(23,"mat-dialog-actions",11),t.YNc(24,yi,1,0,"img",12),t.TgZ(25,"button",13),t.NdJ("click",function(){return n.cancel()}),t._uU(26,"Cancel"),t.qZA(),t.TgZ(27,"button",14),t.NdJ("click",function(){return n.save()}),t._uU(28,"Save"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(7),t.Q6J("ngIf",n.fg.get("edu_district_code").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("edu_district_code").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",n.fg.get("edu_district_code").hasError("isMasterDistrictExist")),t.xp6(5),t.Q6J("ngIf",n.fg.get("edu_district_name").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("edu_district_name").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",n.fg.get("edu_district_name").hasError("isMasterDistrictExist")),t.xp6(2),t.Q6J("ngIf",n.msg),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid))},dependencies:[_.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.sg,s.u,Z.lW,u.uh,u.xY,u.H8,d.TO,d.KE,d.hX,T.Nt,l.xw,l.SQ,l.yH],encapsulation:2}),i})();function wi(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.qZA())}function qi(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(5);t.Q6J("disabled",e.loading)}}function Ui(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",26)(1,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showUserEditDialog(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.YNc(4,qi,3,1,"button",28),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function ki(i,o){1&i&&(t.TgZ(0,"div",30)(1,"b"),t._uU(2,"Managed by Admin Department"),t.qZA()())}function Di(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",21),t._uU(3),t.qZA(),t.TgZ(4,"td",22),t._uU(5),t.qZA(),t.TgZ(6,"td",22),t._uU(7),t.qZA(),t.TgZ(8,"td",22),t._uU(9),t.qZA(),t.TgZ(10,"td",22),t._uU(11),t.qZA(),t.TgZ(12,"td",23),t.YNc(13,Ui,5,2,"div",24),t.YNc(14,ki,3,0,"ng-template",null,25,t.W1O),t.qZA()(),t.BQk()),2&i){const e=o.$implicit,n=o.index,a=t.MAs(15),r=t.oxw(3);t.xp6(3),t.Oqu(r.makeSlNo(n)),t.xp6(2),t.Oqu(e.dist_code),t.xp6(2),t.Oqu(e.dist_name),t.xp6(2),t.Oqu(e.edu_district_code),t.xp6(2),t.Oqu(e.edu_district_name),t.xp6(2),t.Q6J("ngIf",r.allowEdit())("ngIfElse",a)}}function Ii(i,o){if(1&i&&(t.TgZ(0,"table",18)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Revenue District "),t._UZ(7,"br"),t._uU(8," Code"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Revenue District "),t._UZ(11,"br"),t._uU(12," Name"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Edu District "),t._UZ(15,"br"),t._uU(16," Code"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Edu District "),t._UZ(19,"br"),t._uU(20," Name"),t.qZA(),t.TgZ(21,"th",19),t._uU(22,"Actions"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,Di,16,7,"ng-container",20),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(24),t.Q6J("ngForOf",e)}}function Ni(i,o){1&i&&(t.TgZ(0,"div",14)(1,"div",31),t._uU(2,"No data found"),t.qZA()())}function Ei(i,o){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,Ii,25,1,"table",16),t.YNc(2,Ni,3,0,"ng-template",null,17,t.W1O),t.qZA()),2&i){const e=o.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",n)}}function Si(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}let Oi=(()=>{class i{constructor(e,n){this.ds=e,this.dialog=n,this.pageSize=50,this.pageSizeOptions=this.ds.PageSizeOptions,this.loading=!1,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(""),this.refreshToken$=new U.X(void 0)}ngOnInit(){this.user=this.ds.curr_user$.value}ngAfterViewInit(){this.page$=this.paginator.page.asObservable().pipe((0,h.O)({previousPageIndex:0,pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize,length:this.paginator.length})),this.filter_search$=this.filter_search_text.valueChanges.pipe((0,h.O)(this.filter_search_text.value),(0,m.U)(e=>e),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)})),this.edu_districts$=(0,I.a)([this.filter_search$,this.page$,this.refreshToken$]).pipe((0,O.b)(200),(0,f.b)(()=>this.loading=!0),(0,v.w)(([e,n])=>this.ds.getEdu_Districts({search_text:e,limit:n.pageSize,offset:n.pageIndex})),(0,m.U)(e=>(this.loading=!1,this.paginator.length=e.tot_rows,e.rows)))}allowEdit(){return!0}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showUserEditDialog(e){e||(e=null),this.dialog.open(Ai,{disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.refreshToken$.next(void 0)})}delete(e){!confirm("Are you sure to delete Education District?")||(this.loading=!0,this.ds.deleteEdu_District({id:e.id}).subscribe(n=>{this.loading=!1,"Education District deleted successfully."==n.message&&this.refreshToken$.next(void 0)}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-edu-districts"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:29,vars:10,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[3,"ngClass"],[1,"fs-12"],["type","text","matInput","","appAutofocus","","maxlength","200","autocomplete","on",3,"formControl","click"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"pageSizeOptions","pageSize"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],[1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c",2,"text-align","center"],[2,"text-align","center"],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center",4,"ngIf","ngIfElse"],["tmplNoEditMessage",""],["fxLayout","row","fxLayoutAlign","space-evenly center"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click",4,"ngIf"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","darkorange"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Education Districts"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showUserEditDialog()}),t._uU(9,"Add Education District "),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6),t._UZ(13,"div",3),t.YNc(14,wi,2,0,"div",7),t.TgZ(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"Search"),t.qZA(),t.TgZ(19,"input",10),t.NdJ("click",function(r){return r.target.select()}),t.qZA(),t.TgZ(20,"mat-hint"),t._uU(21,"District Name "),t.qZA()()()(),t.TgZ(22,"div"),t.YNc(23,Ei,4,2,"div",11),t.ALo(24,"async"),t.qZA(),t.YNc(25,Si,4,0,"ng-template",null,12,t.W1O),t.TgZ(27,"div"),t._UZ(28,"mat-paginator",13),t.qZA()()()()()),2&e){const a=t.MAs(26);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(4),t.Q6J("ngIf",t.lcZ(24,8,n.edu_districts$))("ngIfElse",a),t.xp6(5),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.nD,s.oH,Z.lW,g.a8,g.dk,g.dn,g.n5,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,l.xw,l.SQ,l.Wh,l.yH,q.oO,_.Ov],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:50%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();function Ji(i,o){if(1&i&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.district_name)}}function Qi(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," district is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function Li(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," district is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function Mi(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function Yi(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name should not exceed "),t.TgZ(2,"b"),t._uU(3,"100 characters"),t.qZA()())}function Bi(i,o){if(1&i&&(t.TgZ(0,"div",18),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.msg)}}function Pi(i,o){1&i&&t._UZ(0,"img",19)}let Fi=(()=>{class i{constructor(e,n,a){this.dataService=e,this.panchayat=n,this.dialogRef=a,this.user=this.dataService.curr_user$.value,this.submitted=!1,this.showDesignations=!1,this.showPwd=!0,this.loading=!1,this.name_fc=new s.p4(this.panchayat.panchayat_name,[s.kI.required,s.kI.maxLength(100)]),this.district_id_fc=new s.p4(this.panchayat.district_id,[s.kI.required]),this.panchayat_fc=new s.p4(this.panchayat.type,[s.kI.required])}ngOnInit(){this.user=this.dataService.curr_user$.value,this.fg=new s.nJ({panchayat_name:this.name_fc,district_id:this.district_id_fc,type:this.panchayat_fc}),setTimeout(()=>{this.onShowDesignations(!0)},0),this.getDistricts()}getDistricts(){this.dataService.getDistricts({}).subscribe(e=>{this.districts=e.rows})}check_user_zone_available(){return this.dataService.curr_user$.getValue()}onShowDesignations(e){this.showDesignations=e}number_chars_only(e){return[1,2,3,4,5,6,7,8,9,0].map(n=>n.toString()).findIndex(n=>n===e.key)>=0}save(){if(this.msg=null,this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.fg.valid){const e=Object.assign({},this.fg.value);this.panchayat.panchayat_name=e.panchayat_name,this.panchayat.district_id=e.district_id,this.panchayat.type=e.type,this.loading=!0,this.dataService.savePanchayat(this.panchayat).subscribe(n=>{this.loading=!1,"Panchayat saved successfully."==n.message||"Panchayat update successfully."==n.message?(n.id&&(this.panchayat.id=n.id),this.dialogRef.close(this.panchayat)):this.msg=n?.message})}}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:38,vars:12,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px",1,"fs-sm"],["fxFlex",""],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["value","T"],["value","V"],["fxFlex","75"],["matInput","","maxlength","100","required","","type","text",3,"formControl"],["fxLayout","row"],["class","c-red",4,"ngIf"],["align","end"],["src","./assets/imgs/loading.gif",4,"ngIf"],["color","warn","mat-raised-button","","tabindex","-1","type","button",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"c-red"],["src","./assets/imgs/loading.gif"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Panchayat"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"div")(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"District"),t.qZA(),t.TgZ(10,"mat-select",4),t.YNc(11,Ji,2,2,"mat-option",5),t.qZA(),t.YNc(12,Qi,4,0,"mat-error",6),t.qZA()(),t.TgZ(13,"div")(14,"mat-form-field",3)(15,"mat-label"),t._uU(16,"Panchayat Type"),t.qZA(),t.TgZ(17,"mat-select",4)(18,"mat-option",7),t._uU(19,"Town Panchayat"),t.qZA(),t.TgZ(20,"mat-option",8),t._uU(21,"Village Panchayat"),t.qZA()(),t.YNc(22,Li,4,0,"mat-error",6),t.qZA()(),t.TgZ(23,"div")(24,"mat-form-field",9)(25,"mat-label"),t._uU(26,"Name"),t.qZA(),t._UZ(27,"input",10),t.YNc(28,Mi,4,0,"mat-error",6),t.YNc(29,Yi,4,0,"mat-error",6),t.qZA()(),t.TgZ(30,"div",11),t.YNc(31,Bi,2,1,"div",12),t.qZA()()()(),t.TgZ(32,"mat-dialog-actions",13),t.YNc(33,Pi,1,0,"img",14),t.TgZ(34,"button",15),t.NdJ("click",function(){return n.cancel()}),t._uU(35,"Cancel"),t.qZA(),t.TgZ(36,"button",16),t.NdJ("click",function(){return n.save()}),t._uU(37,"Save"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(6),t.Q6J("formControl",n.district_id_fc),t.xp6(1),t.Q6J("ngForOf",n.districts),t.xp6(1),t.Q6J("ngIf",n.district_id_fc.hasError("required")),t.xp6(5),t.Q6J("formControl",n.panchayat_fc),t.xp6(5),t.Q6J("ngIf",n.district_id_fc.hasError("required")),t.xp6(5),t.Q6J("formControl",n.name_fc),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("maxlength")),t.xp6(2),t.Q6J("ngIf",n.msg),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid))},dependencies:[_.sg,_.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.oH,s.sg,J.ey,Z.lW,u.uh,u.xY,u.H8,d.TO,d.KE,d.hX,T.Nt,Q.gD,l.xw,l.SQ,l.yH],encapsulation:2}),i})();function $i(i,o){1&i&&(t.TgZ(0,"div",18),t._UZ(1,"mat-spinner",19),t.qZA())}function zi(i,o){if(1&i&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.district_name)}}function Gi(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(5);t.Q6J("disabled",e.loading)}}function Hi(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showUserEditDialog(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.YNc(4,Gi,3,1,"button",33),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function Wi(i,o){1&i&&(t.TgZ(0,"div",35)(1,"b"),t._uU(2,"Managed by Admin Department"),t.qZA()())}function Ri(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",26),t._uU(3),t.qZA(),t.TgZ(4,"td",27),t._uU(5),t.qZA(),t.TgZ(6,"td",27),t._uU(7),t.qZA(),t.TgZ(8,"td",27),t._uU(9),t.qZA(),t.TgZ(10,"td",28),t.YNc(11,Hi,5,2,"div",29),t.YNc(12,Wi,3,0,"ng-template",null,30,t.W1O),t.qZA()(),t.BQk()),2&i){const e=o.$implicit,n=o.index,a=t.MAs(13),r=t.oxw(3);t.xp6(3),t.Oqu(r.makeSlNo(n)),t.xp6(2),t.Oqu(e.district_name),t.xp6(2),t.Oqu(e.type_name),t.xp6(2),t.Oqu(e.panchayat_name),t.xp6(2),t.Q6J("ngIf",r.allowEdit())("ngIfElse",a)}}function ji(i,o){if(1&i&&(t.TgZ(0,"table",23)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"District"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Panchayat type"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"name"),t.qZA(),t.TgZ(11,"th",24),t._uU(12,"Actions"),t.qZA()()(),t.TgZ(13,"tbody"),t.YNc(14,Ri,14,6,"ng-container",25),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(14),t.Q6J("ngForOf",e.panchayats)}}function Ki(i,o){1&i&&(t.TgZ(0,"div",18)(1,"div",36),t._uU(2,"No data found"),t.qZA()())}function Vi(i,o){if(1&i&&(t.TgZ(0,"div",18),t.YNc(1,ji,15,1,"table",21),t.YNc(2,Ki,3,0,"ng-template",null,22,t.W1O),t.qZA()),2&i){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.panchayats.length>0)("ngIfElse",e)}}function Xi(i,o){1&i&&(t.TgZ(0,"div",18),t._UZ(1,"mat-spinner",19),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}let tn=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.length=0,this.pageSize=50,this.pageSizeOptions=this.dataService.PageSizeOptions,this.filters={limit:this.pageSize,offset:0},this.loading=!1,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(""),this.filter_district=new s.p4("ALL"),this.filter_type=new s.p4("ALL")}ngOnInit(){this.user=this.dataService.curr_user$.value,this.getDistricts()}onChangeDistrictFilter(){this.filters.offset=0,this.filter_search_text.value?this.filters.search_text=this.filter_search_text.value:this.filters.hasOwnProperty("search_text")&&delete this.filters.search_text,setTimeout(()=>{this.getPanchayats()},0)}onPageChange(e){this.filters.limit=e.pageSize,this.filters.offset=e.pageIndex,setTimeout(()=>{this.getPanchayats()},0)}onChangeFilter(){this.filters.offset=0,this.filter_search_text.value?this.filters.search_text=this.filter_search_text.value:this.filters.hasOwnProperty("search_text")&&delete this.filters.search_text,setTimeout(()=>{this.getPanchayats()},0)}search(e){this.onChangeFilter()}getPanchayats(){this.loading=!0,this.filters.district_id=this.filter_district.value,this.filters.type=this.filter_type.value,this.dataService.getPanchayats(this.filters).subscribe(e=>{this.loading=!1,this.panchayats=[],this.length=e.tot_rows,this.panchayats=e.rows.map((n,a)=>n)})}getDistricts(){this.dataService.getDistricts({}).subscribe(e=>{this.districts=e.rows,this.getPanchayats()})}allowEdit(){return!0}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showUserEditDialog(e){e||(e={district_id:null,district_name:null,panchayat_name:null,type:null}),this.dialog.open(Fi,{disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.getPanchayats()})}delete(e){!confirm("Are you sure to delete Panchayat?")||(this.loading=!0,this.dataService.deletePanchayat({id:e.id}).subscribe(n=>{this.loading=!1,"Panchayat deleted successfully."==n.message&&this.getPanchayats()}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-panchayats"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:47,vars:12,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["required","",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["value","V"],["value","T"],[3,"ngClass"],[1,"fs-12"],["appAutofocus","","autocomplete","off","matInput","","maxlength","200","type","text",3,"formControl","click","input"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"length","pageSizeOptions","pageSize","page"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],[3,"value"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],[1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c",2,"text-align","center"],[2,"text-align","center"],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center","fxLayoutGap","5px",4,"ngIf","ngIfElse"],["tmplNoEditMessage",""],["fxLayout","row","fxLayoutAlign","space-evenly center","fxLayoutGap","5px"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click",4,"ngIf"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","darkorange"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Panchayats"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showUserEditDialog()}),t._uU(9,"Add New Panchayat "),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6),t._UZ(13,"div",3),t.YNc(14,$i,2,0,"div",7),t.TgZ(15,"div")(16,"mat-form-field",3)(17,"mat-label"),t._uU(18,"District"),t.qZA(),t.TgZ(19,"mat-select",8),t.NdJ("selectionChange",function(){return n.onChangeDistrictFilter()}),t.TgZ(20,"mat-option"),t._uU(21,"Select District"),t.qZA(),t.YNc(22,zi,2,2,"mat-option",9),t.qZA()()(),t.TgZ(23,"div")(24,"mat-form-field",3)(25,"mat-label"),t._uU(26,"Panchayat Type"),t.qZA(),t.TgZ(27,"mat-select",8),t.NdJ("selectionChange",function(){return n.onChangeDistrictFilter()}),t.TgZ(28,"mat-option"),t._uU(29,"Select Panchayat Type"),t.qZA(),t.TgZ(30,"mat-option",10),t._uU(31,"Village Panchayat"),t.qZA(),t.TgZ(32,"mat-option",11),t._uU(33,"Town Panchayat"),t.qZA()()()(),t.TgZ(34,"div",12)(35,"mat-form-field",13)(36,"mat-label"),t._uU(37,"Search"),t.qZA(),t.TgZ(38,"input",14),t.NdJ("click",function(r){return r.target.select()})("input",function(r){return n.search(r.target)}),t.qZA(),t.TgZ(39,"mat-hint"),t._uU(40,"Panchayat Name"),t.qZA()()()(),t.TgZ(41,"div"),t.YNc(42,Vi,4,2,"div",15),t.qZA(),t.YNc(43,Xi,4,0,"ng-template",null,16,t.W1O),t.TgZ(45,"div")(46,"mat-paginator",17),t.NdJ("page",function(r){return n.onPageChange(r)}),t.qZA()()()()()()),2&e){const a=t.MAs(44);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("ngIf",n.loading),t.xp6(5),t.Q6J("formControl",n.filter_district),t.xp6(3),t.Q6J("ngForOf",n.districts),t.xp6(5),t.Q6J("formControl",n.filter_type),t.xp6(7),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(4),t.Q6J("ngIf",n.panchayats)("ngIfElse",a),t.xp6(4),t.Q6J("length",n.length)("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.Q7,s.nD,s.oH,J.ey,Z.lW,g.a8,g.dk,g.dn,g.n5,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,Q.gD,l.xw,l.SQ,l.Wh,l.yH,q.oO],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:70%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();var P=p(1477);function en(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Code is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function nn(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Code should not exceed "),t.TgZ(2,"b"),t._uU(3,"20 characters"),t.qZA()())}function on(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Scheme Code "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function an(i,o){if(1&i&&(t.TgZ(0,"mat-form-field",5)(1,"mat-label"),t._uU(2,"Code"),t.qZA(),t._UZ(3,"input",20),t.YNc(4,en,4,0,"mat-error",7),t.YNc(5,nn,4,0,"mat-error",7),t.YNc(6,on,4,0,"mat-error",7),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.fg.get("scheme_code").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.fg.get("scheme_code").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",e.fg.get("scheme_code").hasError("isMasterSchemeExist"))}}function sn(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function rn(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name should not exceed "),t.TgZ(2,"b"),t._uU(3,"100 characters"),t.qZA()())}function ln(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Scheme name "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function cn(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Description is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function dn(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Description should not exceed "),t.TgZ(2,"b"),t._uU(3,"20 characters"),t.qZA()())}function _n(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Start Date is required "),t.TgZ(2,"sup"),t._uU(3,"*"),t.qZA()())}function un(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," End Date is required "),t.TgZ(2,"sup"),t._uU(3,"*"),t.qZA()())}function gn(i,o){if(1&i&&(t.TgZ(0,"div",21),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.msg)}}function pn(i,o){1&i&&t._UZ(0,"img",22)}let mn=(()=>{class i{constructor(e,n,a){this.ds=e,this.scheme=n,this.dialogRef=a,this.submitted=!1,this.showDesignations=!1,this.showPwd=!0,this.loading=!1,this.isMasterSchemeExist=r=>(0,N.H)(500).pipe((0,f.b)(c=>this.loading=!0),(0,v.w)(()=>(0,k.s)(()=>!!r.value,this.ds.isMasterSchemeExist({scheme_name:r.value}).pipe((0,m.U)(c=>c?{isMasterSchemeExist:!0}:null)),(0,E.of)(null))),(0,S.x)(()=>this.loading=!1))}ngOnInit(){this.user=this.ds.curr_user$.value,this.formInitialize(),setTimeout(()=>{this.onShowDesignations(!0)},0),this.scheme&&this.formExisting()}formInitialize(){this.fg=new s.nJ({scheme_name:new s.p4(null,[s.kI.required,s.kI.maxLength(100)],[this.isMasterSchemeExist]),scheme_code:new s.p4(null,s.kI.required,[this.isMasterSchemeExist]),eff_sd:new s.p4(null,s.kI.required),description:new s.p4(null,s.kI.required),eff_ed:new s.p4(null)})}formExisting(){this.fg=new s.nJ({scheme_name:new s.p4(this.scheme?.scheme_name,[s.kI.required,s.kI.maxLength(100)]),scheme_code:new s.p4(this.scheme.code,[s.kI.required,s.kI.maxLength(20)]),description:new s.p4(this.scheme.description,s.kI.required),eff_sd:new s.p4(this.scheme.eff_sd,s.kI.required),eff_ed:new s.p4(this.scheme.eff_ed)})}check_user_zone_available(){return this.ds.curr_user$.getValue()}onShowDesignations(e){this.showDesignations=e}number_chars_only(e){return[1,2,3,4,5,6,7,8,9,0].map(n=>n.toString()).findIndex(n=>n===e.key)>=0}save(){if(this.msg=null,this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.fg.valid){const e=Object.assign({},this.fg.value);e.user_id=this.user.id,this.scheme&&(this.scheme.scheme_name=e.scheme_name,this.scheme.code=e.scheme_code,this.scheme.eff_ed=e.eff_ed,this.scheme.eff_sd=e.eff_sd,this.scheme.description=e.description,this.scheme.user_id=this.user.id),this.loading=!0,this.ds.saveScheme(this.scheme?this.scheme:e).subscribe(n=>{this.loading=!1,"Scheme saved successfully."==n.message||"Scheme update successfully."==n.message?this.dialogRef.close(n):this.msg=n?.message})}}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:46,vars:16,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px",1,"fs-sm"],["fxLayout","row","fxLayoutGap","1%"],["fxFlex","",4,"ngIf"],["fxFlex",""],["formControlName","scheme_name","matInput","","maxlength","100","required","","type","text"],[4,"ngIf"],["formControlName","description","matInput","","maxlength","20","required","","type","text"],["required","","matInput","","formControlName","eff_sd",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["matInput","","formControlName","eff_ed",3,"matDatepicker"],["picker2",""],["fxLayout","row"],["class","c-red",4,"ngIf"],["align","end"],["src","./assets/imgs/loading.gif",4,"ngIf"],["color","warn","mat-raised-button","","tabindex","-1","type","button",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["formControlName","scheme_code","matInput","","maxlength","20","required","","type","text"],[1,"c-red"],["src","./assets/imgs/loading.gif"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Scheme"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"div",3),t.YNc(7,an,7,3,"mat-form-field",4),t.TgZ(8,"mat-form-field",5)(9,"mat-label"),t._uU(10,"Name"),t.qZA(),t._UZ(11,"input",6),t.YNc(12,sn,4,0,"mat-error",7),t.YNc(13,rn,4,0,"mat-error",7),t.YNc(14,ln,4,0,"mat-error",7),t.qZA()(),t.TgZ(15,"mat-form-field",5)(16,"mat-label"),t._uU(17,"Description"),t.qZA(),t._UZ(18,"input",8),t.YNc(19,cn,4,0,"mat-error",7),t.YNc(20,dn,4,0,"mat-error",7),t.qZA(),t.TgZ(21,"div",3)(22,"mat-form-field",5)(23,"mat-label"),t._uU(24,"Start Date"),t.qZA(),t._UZ(25,"input",9)(26,"mat-datepicker-toggle",10)(27,"mat-datepicker",null,11),t.YNc(29,_n,4,0,"mat-error",7),t.qZA(),t.TgZ(30,"mat-form-field",5)(31,"mat-label"),t._uU(32,"End Date"),t.qZA(),t._UZ(33,"input",12)(34,"mat-datepicker-toggle",10)(35,"mat-datepicker",null,13),t.YNc(37,un,4,0,"mat-error",7),t.qZA()(),t.TgZ(38,"div",14),t.YNc(39,gn,2,1,"div",15),t.qZA()()()(),t.TgZ(40,"mat-dialog-actions",16),t.YNc(41,pn,1,0,"img",17),t.TgZ(42,"button",18),t.NdJ("click",function(){return n.cancel()}),t._uU(43,"Cancel"),t.qZA(),t.TgZ(44,"button",19),t.NdJ("click",function(){return n.save()}),t._uU(45,"Save"),t.qZA()()),2&e){const a=t.MAs(28),r=t.MAs(36);t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(3),t.Q6J("ngIf",!n.scheme),t.xp6(5),t.Q6J("ngIf",n.fg.get("scheme_name").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("scheme_name").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",n.fg.get("scheme_name").hasError("isMasterSchemeExist")),t.xp6(5),t.Q6J("ngIf",n.fg.get("description").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("description").hasError("maxlength")),t.xp6(5),t.Q6J("matDatepicker",a),t.xp6(1),t.Q6J("for",a),t.xp6(3),t.Q6J("ngIf",n.fg.get("eff_sd").hasError("required")),t.xp6(4),t.Q6J("matDatepicker",r),t.xp6(1),t.Q6J("for",r),t.xp6(3),t.Q6J("ngIf",n.fg.get("eff_ed").hasError("required")),t.xp6(2),t.Q6J("ngIf",n.msg),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid)}},dependencies:[_.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.sg,s.u,Z.lW,P.Mq,P.hl,P.nW,u.uh,u.xY,u.H8,d.TO,d.KE,d.hX,d.R9,T.Nt,l.xw,l.SQ,l.yH],encapsulation:2}),i})();function fn(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.qZA())}function hn(i,o){if(1&i&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t._uU(3),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" From :",e.eff_sd," "),t.xp6(2),t.hij("To :",e.eff_ed," ")}}function xn(i,o){1&i&&t._uU(0," N/A ")}function Zn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(5);t.Q6J("disabled",e.loading)}}function bn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",29)(1,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showUserEditDialog(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.YNc(4,Zn,3,1,"button",31),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function Tn(i,o){1&i&&(t.TgZ(0,"div",33)(1,"b"),t._uU(2,"Managed by Admin Department"),t.qZA()())}function vn(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",21),t._uU(3),t.qZA(),t.TgZ(4,"td",22),t._uU(5),t.qZA(),t.TgZ(6,"td",22),t._uU(7),t.qZA(),t.TgZ(8,"td",22),t._uU(9),t.qZA(),t.TgZ(10,"td",22),t.YNc(11,hn,4,2,"ng-container",23),t.YNc(12,xn,1,0,"ng-template",null,24,t.W1O),t.qZA(),t.TgZ(14,"td",22)(15,"button",25),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.toggleStatus(r))}),t.TgZ(16,"mat-icon"),t._uU(17," insert_drive_file"),t.qZA()()(),t.TgZ(18,"td",26),t.YNc(19,bn,5,2,"div",27),t.YNc(20,Tn,3,0,"ng-template",null,28,t.W1O),t.qZA()(),t.BQk()}if(2&i){const e=o.$implicit,n=o.index,a=t.MAs(13),r=t.MAs(21),c=t.oxw(3);t.xp6(3),t.Oqu(c.makeSlNo(n)),t.xp6(2),t.Oqu(e.code),t.xp6(2),t.Oqu(e.scheme_name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Q6J("ngIf",e.eff_sd)("ngIfElse",a),t.xp6(4),t.Udp("color",e.is_active?"green":"red"),t.xp6(4),t.Q6J("ngIf",c.allowEdit())("ngIfElse",r)}}function Cn(i,o){if(1&i&&(t.TgZ(0,"table",18)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"code"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Scheme"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Description"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Effective"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Status"),t.qZA(),t.TgZ(15,"th",19),t._uU(16,"Actions"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,vn,22,11,"ng-container",20),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(18),t.Q6J("ngForOf",e)}}function yn(i,o){1&i&&(t.TgZ(0,"div",14)(1,"div",34),t._uU(2,"No data found"),t.qZA()())}function An(i,o){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,Cn,19,1,"table",16),t.YNc(2,yn,3,0,"ng-template",null,17,t.W1O),t.qZA()),2&i){const e=o.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",n)}}function wn(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}let qn=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.pageSize=50,this.pageSizeOptions=this.dataService.PageSizeOptions,this.loading=!1,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(""),this.refreshToken$=new U.X(void 0)}ngOnInit(){this.user=this.dataService.curr_user$.value}ngAfterViewInit(){this.page$=this.paginator.page.asObservable().pipe((0,h.O)({previousPageIndex:0,pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize,length:this.paginator.length})),this.page$.subscribe(a=>{console.log(`pindex = ${a.pageIndex} \n previous page index = ${a.previousPageIndex} \n pageSize = ${a.pageSize} pageLength = ${a.length}`)}).unsubscribe(),this.filter_include_inactive.valueChanges.pipe((0,h.O)(this.filter_include_inactive.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));const n=this.filter_search_text.valueChanges.pipe((0,h.O)(this.filter_search_text.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));setTimeout(()=>{this.schemes$=(0,I.a)([n,this.page$,this.refreshToken$]).pipe((0,O.b)(200),(0,f.b)(()=>this.loading=!0),(0,v.w)(([a,r])=>this.dataService.getSchemes({search_text:a,limit:r.pageSize,offset:r.pageIndex})),(0,m.U)(a=>(this.loading=!1,this.paginator.length=a.tot_rows,a.rows)))},100)}allowEdit(){return!0}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showUserEditDialog(e){e||(e=null),this.dialog.open(mn,{disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.refreshToken$.next(void 0)})}delete(e){!confirm("Are you sure to delete Scheme?")||(this.loading=!0,this.dataService.deleteScheme(e).subscribe(n=>{this.loading=!1,"Scheme deleted successfully."==n.message&&this.refreshToken$.next(void 0)}))}toggleStatus(e){if(!confirm("Are you sure to toggle Schemes status?"))return;let n={code:e.code,is_active:!e.is_active,user_id:this.user.id};this.loading=!0,this.dataService.toggleSchemeStatus(n).subscribe(a=>{this.loading=!1,"Scheme status changed successfully."==a.message&&this.refreshToken$.next(void 0)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-schemes"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:29,vars:10,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[3,"ngClass"],[1,"fs-12"],["type","text","matInput","","appAutofocus","","maxlength","200","autocomplete","off",3,"formControl","click"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"pageSizeOptions","pageSize"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],[1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c",2,"text-align","center"],[2,"text-align","center"],[4,"ngIf","ngIfElse"],["nullv",""],["mat-icon-button","",3,"click"],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center",4,"ngIf","ngIfElse"],["tmplNoEditMessage",""],["fxLayout","row","fxLayoutAlign","space-evenly center"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click",4,"ngIf"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","darkorange"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Schemes"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showUserEditDialog(null)}),t._uU(9,"Add New Scheme "),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6),t._UZ(13,"div",3),t.YNc(14,fn,2,0,"div",7),t.TgZ(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"Search"),t.qZA(),t.TgZ(19,"input",10),t.NdJ("click",function(r){return r.target.select()}),t.qZA(),t.TgZ(20,"mat-hint"),t._uU(21,"Scheme Name "),t.qZA()()()(),t.TgZ(22,"div"),t.YNc(23,An,4,2,"div",11),t.ALo(24,"async"),t.qZA(),t.YNc(25,wn,4,0,"ng-template",null,12,t.W1O),t.TgZ(27,"div"),t._UZ(28,"mat-paginator",13),t.qZA()()()()()),2&e){const a=t.MAs(26);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(4),t.Q6J("ngIf",t.lcZ(24,8,n.schemes$))("ngIfElse",a),t.xp6(5),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.nD,s.oH,Z.lW,g.a8,g.dk,g.dn,g.n5,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,l.xw,l.SQ,l.Wh,l.yH,q.oO,_.Ov],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:80%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();function Un(i,o){if(1&i&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.district_name)}}function kn(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," district is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function Dn(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function In(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name should not exceed "),t.TgZ(2,"b"),t._uU(3,"100 characters"),t.qZA()())}function Nn(i,o){if(1&i&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.msg)}}function En(i,o){1&i&&t._UZ(0,"img",17)}let Sn=(()=>{class i{constructor(e,n,a){this.dataService=e,this.taluk=n,this.dialogRef=a,this.user=this.dataService.curr_user$.value,this.submitted=!1,this.showDesignations=!1,this.showPwd=!0,this.loading=!1,this.name_fc=new s.p4(this.taluk.taluk_name,[s.kI.required,s.kI.maxLength(100)]),this.district_id_fc=new s.p4(this.taluk.district_id,[s.kI.required])}ngOnInit(){this.user=this.dataService.curr_user$.value,this.fg=new s.nJ({taluk_name:this.name_fc,district_id:this.district_id_fc}),setTimeout(()=>{this.onShowDesignations(!0)},0),this.getDistricts()}getDistricts(){this.dataService.getDistricts({}).subscribe(e=>{this.districts=e.rows})}check_user_zone_available(){return this.dataService.curr_user$.getValue()}onShowDesignations(e){this.showDesignations=e}number_chars_only(e){return[1,2,3,4,5,6,7,8,9,0].map(n=>n.toString()).findIndex(n=>n===e.key)>=0}save(){if(this.msg=null,this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.fg.valid){const e=Object.assign({},this.fg.value);this.taluk.taluk_name=e.taluk_name,this.taluk.district_id=e.district_id,this.loading=!0,this.dataService.saveTaluk(this.taluk).subscribe(n=>{this.loading=!1,"Taluk saved successfully."==n.message||"Taluk update successfully."==n.message?(n.id&&(this.taluk.id=n.id),this.dialogRef.close(this.taluk)):this.msg=n?.message})}}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:28,vars:10,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px",1,"fs-sm"],["fxFlex",""],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","75"],["matInput","","maxlength","100","required","","type","text",3,"formControl"],["fxLayout","row"],["class","c-red",4,"ngIf"],["align","end"],["src","./assets/imgs/loading.gif",4,"ngIf"],["color","warn","mat-raised-button","","tabindex","-1","type","button",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"c-red"],["src","./assets/imgs/loading.gif"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Taluk"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2)(6,"div")(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"District"),t.qZA(),t.TgZ(10,"mat-select",4),t.YNc(11,Un,2,2,"mat-option",5),t.qZA(),t.YNc(12,kn,4,0,"mat-error",6),t.qZA()(),t.TgZ(13,"div")(14,"mat-form-field",7)(15,"mat-label"),t._uU(16,"Name"),t.qZA(),t._UZ(17,"input",8),t.YNc(18,Dn,4,0,"mat-error",6),t.YNc(19,In,4,0,"mat-error",6),t.qZA()(),t.TgZ(20,"div",9),t.YNc(21,Nn,2,1,"div",10),t.qZA()()()(),t.TgZ(22,"mat-dialog-actions",11),t.YNc(23,En,1,0,"img",12),t.TgZ(24,"button",13),t.NdJ("click",function(){return n.cancel()}),t._uU(25,"Cancel"),t.qZA(),t.TgZ(26,"button",14),t.NdJ("click",function(){return n.save()}),t._uU(27,"Save"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(6),t.Q6J("formControl",n.district_id_fc),t.xp6(1),t.Q6J("ngForOf",n.districts),t.xp6(1),t.Q6J("ngIf",n.district_id_fc.hasError("required")),t.xp6(5),t.Q6J("formControl",n.name_fc),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("maxlength")),t.xp6(2),t.Q6J("ngIf",n.msg),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid))},dependencies:[_.sg,_.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.oH,s.sg,J.ey,Z.lW,u.uh,u.xY,u.H8,d.TO,d.KE,d.hX,T.Nt,Q.gD,l.xw,l.SQ,l.yH],encapsulation:2}),i})();function On(i,o){1&i&&(t.TgZ(0,"div",16),t._UZ(1,"mat-spinner",17),t.qZA())}function Jn(i,o){if(1&i&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.district_name)}}function Qn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(5);t.Q6J("disabled",e.loading)}}function Ln(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",29)(1,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showUserEditDialog(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.YNc(4,Qn,3,1,"button",31),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loading),t.xp6(3),t.Q6J("ngIf",e.is_del)}}function Mn(i,o){1&i&&(t.TgZ(0,"div",33)(1,"b"),t._uU(2,"Managed by Admin Department"),t.qZA()())}function Yn(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",24),t._uU(3),t.qZA(),t.TgZ(4,"td",25),t._uU(5),t.qZA(),t.TgZ(6,"td",25),t._uU(7),t.qZA(),t.TgZ(8,"td",26),t.YNc(9,Ln,5,2,"div",27),t.YNc(10,Mn,3,0,"ng-template",null,28,t.W1O),t.qZA()(),t.BQk()),2&i){const e=o.$implicit,n=o.index,a=t.MAs(11),r=t.oxw(3);t.xp6(3),t.Oqu(r.makeSlNo(n)),t.xp6(2),t.Oqu(e.district_name),t.xp6(2),t.Oqu(e.taluk_name),t.xp6(2),t.Q6J("ngIf",r.allowEdit())("ngIfElse",a)}}function Bn(i,o){if(1&i&&(t.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"District"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Taluk"),t.qZA(),t.TgZ(9,"th",22),t._uU(10,"Actions"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,Yn,12,5,"ng-container",23),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(12),t.Q6J("ngForOf",e.taluks)}}function Pn(i,o){1&i&&(t.TgZ(0,"div",16)(1,"div",34),t._uU(2,"No data found"),t.qZA()())}function Fn(i,o){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,Bn,13,1,"table",19),t.YNc(2,Pn,3,0,"ng-template",null,20,t.W1O),t.qZA()),2&i){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.taluks.length>0)("ngIfElse",e)}}function $n(i,o){1&i&&(t.TgZ(0,"div",16),t._UZ(1,"mat-spinner",17),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}let zn=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.length=0,this.pageSize=50,this.pageSizeOptions=this.dataService.PageSizeOptions,this.filters={limit:this.pageSize,offset:0},this.loading=!1,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(""),this.filter_district=new s.p4("ALL")}ngOnInit(){this.user=this.dataService.curr_user$.value,this.getDistricts()}onChangeDistrictFilter(){this.filters.offset=0,this.filter_search_text.value?this.filters.search_text=this.filter_search_text.value:this.filters.hasOwnProperty("search_text")&&delete this.filters.search_text,setTimeout(()=>{this.getTaluks()},100)}onPageChange(e){this.filters.limit=e.pageSize,this.filters.offset=e.pageIndex,setTimeout(()=>{this.getTaluks()},100)}onChangeFilter(){this.filters.offset=0,this.filter_search_text.value?this.filters.search_text=this.filter_search_text.value:this.filters.hasOwnProperty("search_text")&&delete this.filters.search_text,setTimeout(()=>{this.getTaluks()},100)}search(e){this.onChangeFilter()}getDistricts(){this.dataService.getDistricts({}).subscribe(e=>{this.districts=e.rows,this.getTaluks()})}getTaluks(){this.loading=!0,this.filters.district_id=this.filter_district.value,this.dataService.getTaluks(this.filters).subscribe(e=>{this.loading=!1,this.taluks=[],this.length=e.tot_rows,this.taluks=e.rows.map((n,a)=>n)})}allowEdit(){return!0}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showUserEditDialog(e){e||(e={district_id:null,taluk_name:null}),this.dialog.open(Sn,{disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.getTaluks()})}delete(e){!confirm("Are you sure to delete taluk?")||(this.loading=!0,this.dataService.deleteTaluk({id:e.id}).subscribe(n=>{this.loading=!1,"Taluk deleted successfully."==n.message&&this.getTaluks()}))}omit_special_char(e){var n=e.charCode;return n>64&&n<91||n>96&&n<123||8==n||32==n||n>=48&&n<=57}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-taluks"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:36,vars:11,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","20px"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["required","",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngClass"],[2,"font-size","15px"],["type","text","matInput","","appAutofocus","","maxlength","200","autocomplete","off",3,"formControl","click","input","keypress"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"length","pageSizeOptions","pageSize","page"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],[3,"value"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],[1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c",2,"text-align","center"],[2,"text-align","center"],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center","fxLayoutGap","5px",4,"ngIf","ngIfElse"],["tmplNoEditMessage",""],["fxLayout","row","fxLayoutAlign","space-evenly center","fxLayoutGap","5px"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click",4,"ngIf"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","darkorange"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Taluks"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showUserEditDialog()}),t._uU(9,"Add New Taluk "),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6),t._UZ(13,"div",3),t.YNc(14,On,2,0,"div",7),t.TgZ(15,"div")(16,"mat-form-field",3)(17,"mat-label"),t._uU(18,"District"),t.qZA(),t.TgZ(19,"mat-select",8),t.NdJ("selectionChange",function(){return n.onChangeDistrictFilter()}),t.TgZ(20,"mat-option"),t._uU(21,"ALL"),t.qZA(),t.YNc(22,Jn,2,2,"mat-option",9),t.qZA()()(),t.TgZ(23,"div",10)(24,"mat-form-field",11)(25,"mat-label"),t._uU(26,"Search"),t.qZA(),t.TgZ(27,"input",12),t.NdJ("click",function(r){return r.target.select()})("input",function(r){return n.search(r.target)})("keypress",function(r){return n.omit_special_char(r)}),t.qZA(),t.TgZ(28,"mat-hint"),t._uU(29,"Taluk Name "),t.qZA()()()(),t.TgZ(30,"div"),t.YNc(31,Fn,4,2,"div",13),t.qZA(),t.YNc(32,$n,4,0,"ng-template",null,14,t.W1O),t.TgZ(34,"div")(35,"mat-paginator",15),t.NdJ("page",function(r){return n.onPageChange(r)}),t.qZA()()()()()()),2&e){const a=t.MAs(33);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("ngIf",n.loading),t.xp6(5),t.Q6J("formControl",n.filter_district),t.xp6(3),t.Q6J("ngForOf",n.districts),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(4),t.Q6J("ngIf",n.taluks)("ngIfElse",a),t.xp6(4),t.Q6J("length",n.length)("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.Q7,s.nD,s.oH,J.ey,Z.lW,g.a8,g.dk,g.dn,g.n5,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,Q.gD,l.xw,l.SQ,l.Wh,l.yH,q.oO],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:60%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();var Gn=p(8661),Hn=p(6687),M=p(8183);function Wn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tree-node",9)(1,"li"),t._UZ(2,"button",10),t.TgZ(3,"button",11),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.onClickDesignation(r))}),t._uU(4),t.qZA()()()}if(2&i){const e=o.$implicit;t.xp6(4),t.Oqu(e.name)}}function Rn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-nested-tree-node")(1,"li")(2,"div")(3,"button",12)(4,"mat-icon"),t._uU(5),t.qZA()(),t.TgZ(6,"button",11),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.onClickDesignation(r))}),t._uU(7),t.qZA()(),t.TgZ(8,"ul"),t.GkF(9,13),t.qZA()()()}if(2&i){const e=o.$implicit,n=t.oxw(3);t.xp6(3),t.uIk("aria-label","Toggle "+e.name),t.xp6(2),t.hij(" ",n.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),t.xp6(2),t.Oqu(e.name),t.xp6(1),t.ekj("example-tree-invisible",!n.treeControl.isExpanded(e))}}function jn(i,o){if(1&i&&(t.TgZ(0,"mat-tree",6),t.YNc(1,Wn,5,1,"mat-tree-node",7),t.YNc(2,Rn,10,5,"mat-nested-tree-node",8),t.qZA()),2&i){const e=t.oxw().ngIf,n=t.oxw();t.Q6J("dataSource",null==e?null:e.subordinates)("treeControl",n.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",n.hasChild)}}function Kn(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",4),t.YNc(2,jn,3,3,"mat-tree",5),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf","tree"===e.type_fc.value)}}function Vn(i,o){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"mat-spinner",15),t.TgZ(2,"div"),t._uU(3," Please wait while loading..."),t.qZA()())}let Xn=(()=>{class i{constructor(e){this.dataService=e,this.current_designation=new t.vpe,this.selected=new t.vpe,this.loading=!1,this.type_fc=new s.p4("tree",[s.kI.required]),this.treeControl=new Hn.VY(n=>n.subordinates),this.hasChild=(n,a)=>!!a.subordinates&&a.subordinates.length>0}ngOnInit(){(!this.ref_designation_code||["ADMIN","ITM"].findIndex(e=>e===this.ref_designation_code)>=0)&&(this.ref_designation_code="ROOT"),this.data$=this.dataService.getDesignationsRootWise({ref_designation_code:this.ref_designation_code}).pipe((0,m.U)(e=>(this.current_designation_code&&e.forEach(a=>this.f(a)),{code:"CMWSSB",name:"Officials",subordinates:e})))}f(e){e.code===this.current_designation_code?this.current_designation.emit(e):e.subordinates&&e.subordinates.forEach(n=>this.f(n))}onClickDesignation(e){this.selected.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D))},i.\u0275cmp=t.Xpm({type:i,selectors:[["designations-tree"]],inputs:{ref_designation_code:"ref_designation_code",current_designation_code:"current_designation_code"},outputs:{current_designation:"current_designation",selected:"selected"},decls:6,vars:4,consts:[["fxLayout","column","fxLayoutGap","10px"],["fxLayout","row","fxLayoutAlign","space-around"],[4,"ngIf","ngIfElse"],["tmplLoading",""],["fxLayout","row"],["class","example-tree",3,"dataSource","treeControl",4,"ngIf"],[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle",""],["disabled","","mat-icon-button","","type","button"],["mat-button","","type","button",3,"click"],["mat-icon-button","","matTreeNodeToggle","","type","button"],["matTreeNodeOutlet",""],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.YNc(2,Kn,3,1,"ng-container",2),t.ALo(3,"async"),t.YNc(4,Vn,4,0,"ng-template",null,3,t.W1O),t.qZA()),2&e){const a=t.MAs(5);t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,n.data$))("ngIfElse",a)}},dependencies:[_.O5,Z.lW,y.Hw,w.Ou,M.GZ,M.fQ,M.eu,M.gi,M.uo,M.Ar,l.xw,l.SQ,l.Wh,_.Ov],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}"]}),i})();function to(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Designation is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function eo(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"mat-form-field",20)(2,"mat-label"),t._uU(3,"Designation"),t.qZA(),t._UZ(4,"input",21),t.YNc(5,to,4,0,"mat-error",7),t.qZA(),t.TgZ(6,"div")(7,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onShowDesignations(!0))}),t._uU(8,"Select "),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("value",null==e.designation_fc.value?null:e.designation_fc.value.name),t.xp6(1),t.Q6J("ngIf",e.designation_fc.hasError("required")),t.xp6(2),t.Q6J("disabled",e.loading)}}function io(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"designations-tree",23),t.NdJ("current_designation",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onCurrentDesignation(a))})("selected",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onClickDesignation(a))}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("current_designation_code",e.user.designation_code)("ref_designation_code",e.current_user.designation_code)}}function no(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function oo(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Name should not exceed "),t.TgZ(2,"b"),t._uU(3,"100 characters"),t.qZA()())}function ao(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function so(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile should have "),t.TgZ(2,"b"),t._uU(3,"minimum 10 characters"),t.qZA()())}function ro(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile should not exceed "),t.TgZ(2,"b"),t._uU(3,"10 characters"),t.qZA()())}function lo(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Another user with same Mobile No. "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function co(i,o){1&i&&(t.TgZ(0,"mat-hint"),t._uU(1,"Mobile No. provided here may be used by user to login"),t.qZA())}function _o(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," eMail ID is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function uo(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," eMail ID should be in "),t.TgZ(2,"b"),t._uU(3,"valid"),t.qZA(),t._uU(4," format "),t.qZA())}function go(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," eMail ID should not exceed "),t.TgZ(2,"b"),t._uU(3,"50 characters"),t.qZA()())}function po(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Another user with same eMail ID "),t.TgZ(2,"b"),t._uU(3,"already exist"),t.qZA()())}function mo(i,o){1&i&&(t.TgZ(0,"mat-hint"),t._uU(1,"eMail ID provided here may be used by user to login "),t.qZA())}function fo(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," New Password is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function ho(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," New Password should be at least "),t.TgZ(2,"b"),t._uU(3,"8 characters"),t.qZA(),t._uU(4," long "),t.qZA())}function xo(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," New Password should not exceed "),t.TgZ(2,"b"),t._uU(3,"50 characters"),t.qZA()())}function Zo(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Re-type New Password is "),t.TgZ(2,"b"),t._uU(3,"required"),t.qZA()())}function bo(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Re-type New Password should be at least "),t.TgZ(2,"b"),t._uU(3,"8 characters"),t.qZA(),t._uU(4," long "),t.qZA())}function To(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Re-type New Password should not exceed "),t.TgZ(2,"b"),t._uU(3,"50 characters"),t.qZA()())}function vo(i,o){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Re-type New Password should be same as "),t.TgZ(2,"b"),t._uU(3,"New Password"),t.qZA()())}function Co(i,o){if(1&i&&(t.TgZ(0,"div",8)(1,"mat-form-field",24),t._UZ(2,"input",25),t.YNc(3,fo,4,0,"mat-error",7),t.YNc(4,ho,5,0,"mat-error",7),t.YNc(5,xo,4,0,"mat-error",7),t.qZA(),t.TgZ(6,"mat-form-field",20),t._UZ(7,"input",26),t.YNc(8,Zo,4,0,"mat-error",7),t.YNc(9,bo,5,0,"mat-error",7),t.YNc(10,To,4,0,"mat-error",7),t.YNc(11,vo,4,0,"mat-error",7),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("formControl",e.pwd_fc),t.xp6(1),t.Q6J("ngIf",e.pwd_fc.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.pwd_fc.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",e.pwd_fc.hasError("maxlength")),t.xp6(2),t.Q6J("formControl",e.repwd_fc),t.xp6(1),t.Q6J("ngIf",e.repwd_fc.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.repwd_fc.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",e.repwd_fc.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",e.repwd_fc.hasError("pwdEqual"))}}function yo(i,o){if(1&i&&(t.TgZ(0,"div",27),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.msg)}}function Ao(i,o){1&i&&t._UZ(0,"img",28)}let wo=(()=>{class i{constructor(e,n,a){this.dataService=e,this.user=n,this.dialogRef=a,this.current_user=this.dataService.curr_user$.value,this.submitted=!1,this.showDesignations=!1,this.showPwd=!0,this.loading=!1,this.designation_fc=new s.p4(null,[s.kI.required]),this.name_fc=new s.p4(this.user.name,[s.kI.required,s.kI.maxLength(100)]),this.pwd_fc=new s.p4(this.user.pwd,[s.kI.required,s.kI.minLength(8),s.kI.maxLength(100)]),this.repwd_fc=new s.p4(this.user.pwd,[s.kI.required,s.kI.minLength(8),s.kI.maxLength(100),Gn.x.pwdEqual("pwd")]),this.isUserMobileNoExist=r=>(0,N.H)(500).pipe((0,f.b)(c=>this.loading=!0),(0,v.w)(()=>(0,k.s)(()=>!!r.value,this.dataService.isUserMobileNoExist({mobile_no:r.value,id:this.user.id}).pipe((0,m.U)(c=>c?{isUserMobileNoExist:!0}:null)),(0,E.of)(null))),(0,S.x)(()=>this.loading=!1)),this.mobile_no_fc=new s.p4(this.user.mobile_no,[s.kI.required,s.kI.minLength(10),s.kI.maxLength(10)],[this.isUserMobileNoExist]),this.isUserEmailExist=r=>(0,N.H)(500).pipe((0,f.b)(c=>this.loading=!0),(0,v.w)(()=>(0,k.s)(()=>!!r.value,this.dataService.isUserEmailExist({email:r.value,id:this.user.id}).pipe((0,m.U)(c=>c?{isUserEmailExist:!0}:null)),(0,E.of)(null))),(0,S.x)(()=>this.loading=!1)),this.email_fc=new s.p4(this.user.email,[s.kI.email,s.kI.maxLength(50)],[this.isUserEmailExist])}ngOnInit(){this.fg=new s.nJ({designation:this.designation_fc,name:this.name_fc,mobile_no:this.mobile_no_fc,email:this.email_fc}),setTimeout(()=>{this.onShowDesignations(!0)},0),this.user.id&&this.user.id>0&&(this.showPwd=!1),this.showPwd&&(this.fg.addControl("pwd",this.pwd_fc),this.fg.addControl("repwd",this.repwd_fc)),this.designation_fc.valueChanges.pipe((0,h.O)(this.designation_fc.value)).forEach(e=>{})}check_user_zone_available(){return this.dataService.curr_user$.getValue()}onShowDesignations(e){this.showDesignations=e}onCurrentDesignation(e){this.designation_fc.value?.code!==e.code&&(this.designation_fc.setValue(e),this.onShowDesignations(!1))}onClickDesignation(e){this.designation_fc.setValue(e),this.onShowDesignations(!1)}number_chars_only(e){return[1,2,3,4,5,6,7,8,9,0].map(n=>n.toString()).findIndex(n=>n===e.key)>=0}save(){if(this.msg=null,this.submitted=!0,this.fg.updateValueAndValidity({onlySelf:!1,emitEvent:!0}),this.designation_fc.value){if(this.fg.valid){const e=Object.assign({},this.fg.value);this.user.name=e.name,this.user.designation_code=e.designation.code,this.user.mobile_no=e.mobile_no,this.user.email=e.email,this.showPwd&&(this.user.pwd=e.pwd),this.loading=!0,this.dataService.saveUser(this.user).subscribe(n=>{this.loading=!1,"User saved successfully."==n.message?(n.id&&(this.user.id=n.id),this.dialogRef.close(this.user)):this.msg=n?.message})}}else this.msg="Please select designation."}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.WI),t.Y36(u.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:46,vars:22,consts:[["mat-dialog-title","",1,"mb-4"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","10px",1,"fs-sm"],["fxLayout","row",4,"ngIf","ngIfElse"],["tmplShowDesignations",""],["fxFlex","75"],["matInput","","maxlength","100","required","","type","text",3,"formControl"],[4,"ngIf"],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","50"],["matPrefix",""],["autocomplete","Off","matInput","","maxlength","10","minlength","10","required","","type","text",3,"formControl","keypress"],["autocomplete","Off","email","","matInput","","maxlength","50","type","email",3,"formControl"],["fxLayout","row","fxLayoutGap","10px",4,"ngIf"],["fxLayout","row"],["class","c-red",4,"ngIf"],["align","end"],["src","./assets/imgs/loading.gif",4,"ngIf"],["color","warn","mat-raised-button","","tabindex","-1","type","button",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxFlex",""],["matInput","","readonly","","type","text",3,"value"],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],[3,"current_designation_code","ref_designation_code","current_designation","selected"],["fxFlex","45"],["autocomplete","new-password","matInput","","maxlength","100","minlength","8","placeholder","New Password","required","","type","password",3,"formControl"],["autocomplete","new-password","matInput","","maxlength","100","minlength","8","placeholder","Re-type New Password","required","","type","password",3,"formControl"],[1,"c-red"],["src","./assets/imgs/loading.gif"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"User"),t.qZA()(),t.TgZ(3,"mat-dialog-content")(4,"form",1)(5,"div",2),t.YNc(6,eo,9,3,"div",3),t.YNc(7,io,2,2,"ng-template",null,4,t.W1O),t.TgZ(9,"div")(10,"mat-form-field",5)(11,"mat-label"),t._uU(12,"Name"),t.qZA(),t._UZ(13,"input",6),t.YNc(14,no,4,0,"mat-error",7),t.YNc(15,oo,4,0,"mat-error",7),t.qZA()(),t.TgZ(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),t._uU(19,"Mobile"),t.qZA(),t.TgZ(20,"span",10),t._uU(21,"(+91) \xa0"),t.qZA(),t.TgZ(22,"input",11),t.NdJ("keypress",function(r){return n.number_chars_only(r)}),t.qZA(),t.YNc(23,ao,4,0,"mat-error",7),t.YNc(24,so,4,0,"mat-error",7),t.YNc(25,ro,4,0,"mat-error",7),t.YNc(26,lo,4,0,"mat-error",7),t.YNc(27,co,2,0,"mat-hint",7),t.qZA(),t.TgZ(28,"mat-form-field",9)(29,"mat-label"),t._uU(30,"eMail ID"),t.qZA(),t._UZ(31,"input",12),t.YNc(32,_o,4,0,"mat-error",7),t.YNc(33,uo,5,0,"mat-error",7),t.YNc(34,go,4,0,"mat-error",7),t.YNc(35,po,4,0,"mat-error",7),t.YNc(36,mo,2,0,"mat-hint",7),t.qZA()(),t.YNc(37,Co,12,9,"div",13),t.TgZ(38,"div",14),t.YNc(39,yo,2,1,"div",15),t.qZA()()()(),t.TgZ(40,"mat-dialog-actions",16),t.YNc(41,Ao,1,0,"img",17),t.TgZ(42,"button",18),t.NdJ("click",function(){return n.cancel()}),t._uU(43,"Cancel"),t.qZA(),t.TgZ(44,"button",19),t.NdJ("click",function(){return n.save()}),t._uU(45,"Save"),t.qZA()()),2&e){const a=t.MAs(8);t.xp6(4),t.Q6J("formGroup",n.fg),t.xp6(2),t.Q6J("ngIf",!n.showDesignations)("ngIfElse",a),t.xp6(7),t.Q6J("formControl",n.name_fc),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.name_fc.hasError("maxlength")),t.xp6(7),t.Q6J("formControl",n.mobile_no_fc),t.xp6(1),t.Q6J("ngIf",n.mobile_no_fc.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.mobile_no_fc.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",n.mobile_no_fc.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",n.mobile_no_fc.hasError("isUserMobileNoExist")),t.xp6(1),t.Q6J("ngIf",n.mobile_no_fc.valid),t.xp6(4),t.Q6J("formControl",n.email_fc),t.xp6(1),t.Q6J("ngIf",n.email_fc.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.email_fc.hasError("email")),t.xp6(1),t.Q6J("ngIf",n.email_fc.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",n.email_fc.hasError("isUserEmailExist")),t.xp6(1),t.Q6J("ngIf",n.email_fc.valid&&n.email_fc.value),t.xp6(1),t.Q6J("ngIf",n.showPwd),t.xp6(2),t.Q6J("ngIf",n.msg),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(3),t.Q6J("disabled",n.loading||n.fg.invalid)}},dependencies:[_.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.on,s.oH,s.sg,Z.lW,u.uh,u.xY,u.H8,d.TO,d.KE,d.bx,d.hX,d.qo,T.Nt,l.xw,l.SQ,l.yH,Xn],encapsulation:2}),i})();function qo(i,o){1&i&&(t.TgZ(0,"div",15),t._UZ(1,"mat-spinner",16),t.qZA())}function Uo(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",30)(1,"div",31)(2,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.toggleUserStatus(a))}),t.TgZ(3,"mat-icon",33),t._uU(4,"person"),t.qZA()()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("matTooltip",e.is_active?"Active":"Inactive"),t.xp6(1),t.Udp("color",e.is_active?"darkgreen":"red"),t.Q6J("disabled",n.loading)}}function ko(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",34)(1,"button",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showUserEditDialog(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.delete(a))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}if(2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("disabled",e.loading),t.xp6(3),t.Q6J("disabled",e.loading)}}function Do(i,o){1&i&&(t.TgZ(0,"div",37)(1,"b"),t._uU(2,"Managed by Admin Department"),t.qZA()())}function Io(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",22),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"b",23),t._uU(6),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"p",24),t._uU(9),t.qZA()(),t.TgZ(10,"td")(11,"b",23),t._uU(12),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"p",25),t._uU(15),t.qZA()(),t.TgZ(16,"td",22),t.YNc(17,Uo,5,4,"div",26),t.qZA(),t.TgZ(18,"td",27),t.YNc(19,ko,7,2,"div",28),t.YNc(20,Do,3,0,"ng-template",null,29,t.W1O),t.qZA()(),t.BQk()),2&i){const e=o.$implicit,n=o.index,a=t.MAs(21),r=t.oxw(3);t.xp6(3),t.Oqu(r.makeSlNo(n)),t.xp6(3),t.Oqu(e.designation_name),t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Oqu(e.mobile_no),t.xp6(3),t.Oqu(e.email),t.xp6(2),t.Q6J("ngIf",r.allowEdit(e)),t.xp6(2),t.Q6J("ngIf",r.allowEdit(e))("ngIfElse",a)}}function No(i,o){if(1&i&&(t.TgZ(0,"table",19)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Sl. No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Name & "),t._UZ(7,"br"),t._uU(8," Designation"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Mobile No. & "),t._UZ(11,"br"),t._uU(12,"E-mail Address"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Status"),t.qZA(),t.TgZ(15,"th",20),t._uU(16,"Actions"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,Io,22,8,"ng-container",21),t.qZA()()),2&i){const e=t.oxw().ngIf;t.xp6(18),t.Q6J("ngForOf",e)}}function Eo(i,o){1&i&&(t.TgZ(0,"div",15)(1,"div",38),t._uU(2,"No data found"),t.qZA()())}function So(i,o){if(1&i&&(t.TgZ(0,"div",15),t.YNc(1,No,19,1,"table",17),t.YNc(2,Eo,3,0,"ng-template",null,18,t.W1O),t.qZA()),2&i){const e=o.ngIf,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",n)}}function Oo(i,o){1&i&&(t.TgZ(0,"div",15),t._UZ(1,"mat-spinner",16),t.TgZ(2,"div"),t._uU(3,"Please wait while loading..."),t.qZA()())}let Jo=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.pageSize=50,this.pageSizeOptions=this.dataService.PageSizeOptions,this.loading=!1,this.filter_include_inactive=new s.p4(!1),this.filter_search_text=new s.p4(""),this.refreshToken$=new U.X(void 0)}ngOnInit(){}ngAfterViewInit(){this.page$=this.paginator.page.asObservable().pipe((0,h.O)({previousPageIndex:0,pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize,length:this.paginator.length}));const e=this.filter_include_inactive.valueChanges.pipe((0,h.O)(this.filter_include_inactive.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)})),n=this.filter_search_text.valueChanges.pipe((0,h.O)(this.filter_search_text.value),(0,m.U)(a=>a),(0,C.x)(),(0,f.b)(()=>{this.paginator&&(this.paginator.pageIndex=0)}));setTimeout(()=>{this.users$=(0,I.a)([e,n,this.page$,this.refreshToken$]).pipe((0,O.b)(200),(0,f.b)(()=>this.loading=!0),(0,v.w)(([a,r,c])=>this.dataService.getUsers({include_inactive:a,search_text:r,limit:c.pageSize,offset:c.pageIndex})),(0,m.U)(a=>(this.loading=!1,this.paginator.length=a.tot_rows,a.rows)))},100)}allowEdit(e){return!0}makeSlNo(e){return this.paginator.pageSize*this.paginator.pageIndex+(e+1)}showUserEditDialog(e){e||(e={name:null,designation_code:null,mobile_no:null,email:null}),this.dialog.open(wo,{disableClose:!0,hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{r&&this.refreshToken$.next(void 0)})}delete(e){!confirm("Are you sure to delete user?")||(this.loading=!0,this.dataService.deleteUser({id:e.id}).subscribe(n=>{this.loading=!1,"User deleted successfully."==n.message&&this.refreshToken$.next(void 0)}))}toggleUserStatus(e){if(!confirm("Are you sure to toggle user status?"))return;let n={id:e.id,is_active:!e.is_active};this.loading=!0,this.dataService.toggleUserStatus(n).subscribe(a=>{this.loading=!1,"User status changed successfully."==a.message&&this.refreshToken$.next(void 0)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:31,vars:11,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","95","fxFlex.xs","100","fxFlex.sm","100"],["fxLayout","row",1,"pb-10"],["fxFlex",""],["color","primary","mat-raised-button","","type","button",1,"lh-25","no-print",3,"disabled","click"],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","space-between center"],[3,"formControl"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[3,"ngClass"],[1,"fs-12"],["autocomplete","on","placeholder","E.g.8124519977","matInput","","maxlength","200","type","text",3,"formControl","click"],["fxLayout","row","fxLayoutAlign","center center",4,"ngIf","ngIfElse"],["tmplLoading",""],[3,"pageSizeOptions","pageSize"],["fxLayout","row","fxLayoutAlign","center center"],["diameter","40"],["cell-spacing","0","class","addBorder fs-12",4,"ngIf","ngIfElse"],["tmplNoData",""],["cell-spacing","0",1,"addBorder","fs-12"],[1,"no-print"],[4,"ngFor","ngForOf"],[1,"ta-c"],[2,"font-family","'Montserrat', sans-serif","font-size","medium"],[2,"font-family","'Tangerine', sans-serif","line-height","15px","color","#f06321"],[2,"color","gray"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px",4,"ngIf"],[1,"ta-c","no-print"],["fxLayout","row","fxLayoutAlign","space-evenly center","fxLayoutGap","5px",4,"ngIf","ngIfElse"],["tmplNoEditMessage",""],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px"],[3,"matTooltip"],["mat-icon-button","","type","button",1,"lh-20",2,"height","unset",3,"disabled","click"],[2,"height","unset"],["fxLayout","row","fxLayoutAlign","space-evenly center","fxLayoutGap","5px"],["title","Edit","mat-icon-button","","color","primary","aria-label","Edit icon to edit user",3,"disabled","click"],["title","Delete","mat-icon-button","","color","warn","aria-label","Delete icon to delete the user",3,"disabled","click"],[2,"color","darkorange"],[2,"color","red"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"b"),t._uU(5,"Users"),t.qZA()(),t._UZ(6,"div",3),t.TgZ(7,"div")(8,"button",4),t.NdJ("click",function(){return n.showUserEditDialog()}),t._uU(9,"Add New User "),t.qZA()()(),t.TgZ(10,"mat-card-content")(11,"div",5)(12,"div",6)(13,"div")(14,"mat-checkbox",7),t._uU(15,"Include inactive Users"),t.qZA()(),t._UZ(16,"div",3),t.YNc(17,qo,2,0,"div",8),t.TgZ(18,"div",9)(19,"mat-form-field",10)(20,"mat-label"),t._uU(21,"Search"),t.qZA(),t.TgZ(22,"input",11),t.NdJ("click",function(r){return r.target.select()}),t.qZA(),t.TgZ(23,"mat-hint"),t._uU(24,"Name / eMail ID / Mobile No."),t.qZA()()()(),t.YNc(25,So,4,2,"div",12),t.ALo(26,"async"),t.YNc(27,Oo,4,0,"ng-template",null,13,t.W1O),t.TgZ(29,"div"),t._UZ(30,"mat-paginator",14),t.qZA()()()()()),2&e){const a=t.MAs(28);t.xp6(8),t.Q6J("disabled",n.loading),t.xp6(6),t.Q6J("formControl",n.filter_include_inactive),t.xp6(3),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngClass",n.filter_search_text.value?"":"no-print"),t.xp6(4),t.Q6J("formControl",n.filter_search_text),t.xp6(3),t.Q6J("ngIf",t.lcZ(26,9,n.users$))("ngIfElse",a),t.xp6(5),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)}},dependencies:[_.mk,_.sg,_.O5,s.Fj,s.JJ,s.nD,s.oH,Z.lW,g.a8,g.dk,g.dn,g.n5,B.oG,d.KE,d.bx,d.hX,y.Hw,T.Nt,b.NW,w.Ou,L.gM,l.xw,l.SQ,l.Wh,l.yH,q.oO,_.Ov],styles:["table.addBorder[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:70%}table.addBorder[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.addBorder[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:.1px solid black;padding:5px}@media print{header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}.addBorder[_ngcontent-%COMP%]{font-size:xx-small}}"]}),i})();var D=p(7739);function Qo(i,o){1&i&&(t.TgZ(0,"th",24),t._uU(1,"#."),t.qZA())}function Lo(i,o){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=o.index;t.xp6(1),t.Oqu(e+1)}}function Mo(i,o){1&i&&(t.TgZ(0,"th",24),t._uU(1,"Subject Code"),t.qZA())}function Yo(i,o){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.code)}}function Bo(i,o){1&i&&(t.TgZ(0,"th",24),t._uU(1,"Class"),t.qZA())}function Po(i,o){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.class)}}function Fo(i,o){1&i&&(t.TgZ(0,"th",24),t._uU(1,"Subject Name"),t.qZA())}function $o(i,o){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function zo(i,o){1&i&&(t.TgZ(0,"th",24),t._uU(1,"Status"),t.qZA())}function Go(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.qbStatus(!1,a.code))}),t.TgZ(1,"mat-icon"),t._uU(2,"toggle_on"),t.qZA()()}if(2&i){const e=t.oxw(2);t.Q6J("disabled",e.isLoading)}}function Ho(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.qbStatus(!0,a.code))}),t.TgZ(1,"mat-icon"),t._uU(2,"toggle_off"),t.qZA()()}if(2&i){const e=t.oxw(2);t.Q6J("disabled",e.isLoading)}}function Wo(i,o){if(1&i&&(t.TgZ(0,"td",25)(1,"div",26),t.YNc(2,Go,3,1,"button",27),t.YNc(3,Ho,3,1,"button",28),t.qZA()()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("matTooltip",e.is_active?"In Active":"In Deactivate"),t.xp6(1),t.Q6J("ngIf",e.is_active),t.xp6(1),t.Q6J("ngIf",!e.is_active)}}function Ro(i,o){1&i&&(t.TgZ(0,"th",24),t._uU(1,"Remarks"),t.qZA())}function jo(i,o){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.remarks)}}function Ko(i,o){1&i&&t._UZ(0,"tr",31)}function Vo(i,o){1&i&&t._UZ(0,"tr",32)}const Xo=function(){return[5,10,20]};let ta=(()=>{class i{constructor(e,n){this.dataService=e,this.fb=n,this.displayedColumns=["#.","Code","Class","Subjects","Status","Remarks"],this.isLoading=!1,this.qbSubjectForm=this.fb.group({code:[null,[s.kI.required,s.kI.maxLength(5)]],class:[null,[s.kI.required,s.kI.maxLength(3)]],name:[null,[s.kI.required,s.kI.maxLength(50)]],remarks:[null,[s.kI.maxLength(50)]]})}ngAfterViewInit(){}ngOnInit(){this.getQBSubjects()}getQBSubjects(){this.dataService.getQBSubjects({}).subscribe(e=>{this.dataSource=e.rows})}saveQBSubjects(){this.isLoading=!0;let e=Object.assign({},this.qbSubjectForm.value);this.dataService.saveQBSubjects(e).subscribe(n=>{}),this.getQBSubjects(),this.isLoading=!1}qbStatus(e,n){this.isLoading=!0,this.dataService.updateQBSubjects({is_active:e,code:n}).subscribe(a=>{this.getQBSubjects()}),this.isLoading=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(s.QS))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-quest-bank-subjects"]],viewQuery:function(e,n){if(1&e&&t.Gf(b.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first)}},decls:48,vars:6,consts:[["fxLayout","row","fxLayoutAlign","center center",2,"margin","1%","margin-top","5%","margin-bottom","5%"],["fxFlex","50","fxLayout","column","fxLayoutGap","1%"],[1,"mat-elevation-z24"],["fxLayout","column","fxLayoutGap","1%",2,"padding","5px",3,"formGroup"],["fxLayoutGap","1%"],["fxFlex","50"],["formControlName","code","matInput","","placeholder","E.g.PHY"],["formControlName","class","matInput","","placeholder","E.g.12"],["formControlName","name","matInput","","placeholder","E.g.Physics"],["formControlName","remarks","matInput","","placeholder","Remarks"],["fxLayoutAlign","end"],["aria-label","save details","color","primary","mat-fab","",3,"click"],["fxFill","","mat-table","",3,"dataSource"],["matColumnDef","#."],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Code"],["matColumnDef","Class"],["matColumnDef","Subjects"],["matColumnDef","Status"],["matColumnDef","Remarks"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of periodic elements","showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[3,"matTooltip"],["color","primary","mat-icon-button","",3,"disabled","click",4,"ngIf"],["color","warn","mat-icon-button","",3,"disabled","click",4,"ngIf"],["color","primary","mat-icon-button","",3,"disabled","click"],["color","warn","mat-icon-button","",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),t._uU(7,"Subject Code"),t.qZA(),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"mat-form-field",5)(10,"mat-label"),t._uU(11,"Class"),t.qZA(),t._UZ(12,"input",7),t.qZA()(),t.TgZ(13,"div",4)(14,"mat-form-field",5)(15,"mat-label"),t._uU(16,"Subject Name"),t.qZA(),t._UZ(17,"input",8),t.qZA(),t.TgZ(18,"mat-form-field",5)(19,"mat-label"),t._uU(20,"Remarks"),t.qZA(),t._UZ(21,"input",9),t.qZA()()(),t.TgZ(22,"div",10)(23,"button",11),t.NdJ("click",function(){return n.saveQBSubjects()}),t.TgZ(24,"mat-icon"),t._uU(25,"done_outline"),t.qZA()()(),t.TgZ(26,"table",12),t.ynx(27,13),t.YNc(28,Qo,2,0,"th",14),t.YNc(29,Lo,2,1,"td",15),t.BQk(),t.ynx(30,16),t.YNc(31,Mo,2,0,"th",14),t.YNc(32,Yo,2,1,"td",15),t.BQk(),t.ynx(33,17),t.YNc(34,Bo,2,0,"th",14),t.YNc(35,Po,2,1,"td",15),t.BQk(),t.ynx(36,18),t.YNc(37,Fo,2,0,"th",14),t.YNc(38,$o,2,1,"td",15),t.BQk(),t.ynx(39,19),t.YNc(40,zo,2,0,"th",14),t.YNc(41,Wo,4,3,"td",15),t.BQk(),t.ynx(42,20),t.YNc(43,Ro,2,0,"th",14),t.YNc(44,jo,2,1,"td",15),t.BQk(),t.YNc(45,Ko,1,0,"tr",21),t.YNc(46,Vo,1,0,"tr",22),t.qZA(),t._UZ(47,"mat-paginator",23),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.qbSubjectForm),t.xp6(23),t.Q6J("dataSource",n.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,Xo)))},dependencies:[_.O5,s.Fj,s.JJ,s.JL,s.sg,s.u,Z.lW,g.a8,d.KE,d.hX,y.Hw,T.Nt,b.NW,L.gM,D.BZ,D.fO,D.as,D.w1,D.Dz,D.nj,D.ge,D.ev,D.XQ,D.Gk,l.xw,l.SQ,l.Wh,l.s9,l.yH]}),i})();var ea=p(6560);function ia(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.deleteRelationship(a.code))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&i){const e=t.oxw(2);t.Q6J("disabled",e.isLoading)}}function na(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",8),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.showEditDialog(r))}),t.TgZ(11,"mat-icon"),t._uU(12,"edit"),t.qZA()(),t.YNc(13,ia,3,1,"button",9),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA()()}if(2&i){const e=o.$implicit,n=o.index,a=t.oxw();t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.code),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.allowed_schemes),t.xp6(2),t.Q6J("disabled",a.isLoading),t.xp6(3),t.Q6J("ngIf",e.is_del),t.xp6(2),t.Oqu(e.remarks)}}let oa=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.isLoading=!1,this.refreshToken$=new U.X(void 0)}ngOnInit(){this.getRelationship()}getRelationship(){this.dataService.getRelationship({}).subscribe(e=>{this.relationship=e.rows})}deleteRelationship(e){!confirm(`Are you sure to \u{1f5d1} delete ${e} ?`)||this.dataService.deleteRelationship({code:e}).subscribe(n=>{this.getRelationship()})}showEditDialog(e){e||(e={code:null,name:null,allowed_schemes:null,remarks:null,is_del:null}),this.dialog.open(ea.N,{width:"600px",hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{this.getRelationship()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-relationship"]],decls:22,vars:1,consts:[["fxLayout","row","fxLayoutAlign","center center",2,"margin","5% 1%"],["fxLayout","column","fxLayoutGap","1%"],["fxFill","",1,"mat-elevation-z24"],["fxLayoutAlign","end center"],["color","primary","mat-fab","",3,"click"],[2,"width","100%","margin-top","20px","text-align","center"],[2,"background-color","lightgrey"],[4,"ngFor","ngForOf"],["color","primary","mat-icon-button","","title","Edit",3,"disabled","click"],["color","warn","mat-icon-button","","title","Delete",3,"disabled","click",4,"ngIf"],["color","warn","mat-icon-button","","title","Delete",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return n.showEditDialog()}),t.TgZ(5,"mat-icon"),t._uU(6,"add"),t.qZA()()(),t.TgZ(7,"table",5)(8,"tr",6)(9,"th"),t._uU(10,"Sl No."),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Code"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Name"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Allowed Scheme Names"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Actions"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Remarks"),t.qZA()(),t.YNc(21,na,16,7,"tr",7),t.qZA()()()()),2&e&&(t.xp6(21),t.Q6J("ngForOf",n.relationship))},dependencies:[_.sg,_.O5,Z.lW,g.a8,y.Hw,l.xw,l.SQ,l.Wh,l.s9],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black}table[_ngcontent-%COMP%]{border-collapse:collapse}.boxClass[_ngcontent-%COMP%]{background-color:#d3d3d3;border:1px solid dimgrey;padding:10px;box-shadow:5px 5px #000}.boxClass[_ngcontent-%COMP%]:hover{box-shadow:5px 5px gray}.mat-tab-group[_ngcontent-%COMP%]{margin-bottom:48px}"]}),i})();var aa=p(6840);function sa(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"button",4),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.showEditDialog(r))}),t.TgZ(14,"mat-icon"),t._uU(15,"edit"),t.qZA()()()(),t.BQk()}if(2&i){const e=o.$implicit,n=o.index,a=t.oxw();t.xp6(3),t.Oqu(n+1),t.xp6(2),t.Oqu(e.code),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.allowed_schemes),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Q6J("disabled",a.isLoading)}}let ra=(()=>{class i{constructor(e,n){this.dataService=e,this.dialog=n,this.isLoading=!1}ngOnInit(){this.getGender()}getGender(){this.dataService.getGenders({}).subscribe(e=>{this.clmGender=e.rows})}showEditDialog(e){e||(e={code:null,name:null,allowed_schemes:null,remarks:null,is_del:null}),this.dialog.open(aa.f,{width:"600px",hasBackdrop:!0,data:e}).afterClosed().subscribe(r=>{this.getGender()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.D),t.Y36(u.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-claim-gender"]],decls:17,vars:1,consts:[["fxLayoutAlign","center center"],[2,"width","100%","margin-top","20px","text-align","center"],[2,"background-color","lightgray"],[4,"ngFor","ngForOf"],["color","primary","mat-icon-button","","title","Edit",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"table",1)(3,"tr",2)(4,"th"),t._uU(5,"# ."),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Code"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Gender"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Applicable For"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Remarks"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Actions"),t.qZA()(),t.YNc(16,sa,16,6,"ng-container",3),t.qZA()()()),2&e&&(t.xp6(16),t.Q6J("ngForOf",n.clmGender))},dependencies:[_.sg,Z.lW,g.a8,y.Hw,l.Wh],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;margin-top:20px;text-align:center}.boxClass[_ngcontent-%COMP%]{background-color:#d3d3d3;border:1px solid dimgrey;padding:10px;box-shadow:5px 5px #000}.boxClass[_ngcontent-%COMP%]:hover{box-shadow:5px 5px gray}.mat-tab-group[_ngcontent-%COMP%]{margin-bottom:48px}"]}),i})();var A=p(5701);const la=[{path:"users",component:Jo,canActivate:[A.a]},{path:"districts",component:$e,canActivate:[A.a]},{path:"taluks",component:zn,canActivate:[A.a]},{path:"panchayats",component:tn,canActivate:[A.a]},{path:"bank-branches",component:ft,canActivate:[A.a]},{path:"counters",component:Ae,canActivate:[A.a]},{path:"acts",component:rt,canActivate:[A.a]},{path:"business_natures",component:Ot,canActivate:[A.a]},{path:"schemes",component:qn,canActivate:[A.a]},{path:"doc-types",component:fi,canActivate:[A.a]},{path:"contributions",component:oe,canActivate:[A.a]},{path:"edu-district",component:Oi,canActivate:[A.a]},{path:"question_bank_subjects",component:ta,canActivate:[A.a]},{path:"claimGender",component:ra,canActivate:[A.a]},{path:"relationship",component:oa,canActivate:[A.a]}];let ca=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[$.Bz.forChild(la),$.Bz]}),i})(),da=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[_.ez,ca,z.m]}),i})()}}]);